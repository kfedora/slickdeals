HTTP/1.1 200 OK
Date: Fri, 16 Oct 2020 17:04:51 GMT
Content-Type: text/html; charset=utf-8
Transfer-Encoding: chunked
Connection: keep-alive
X-Sorting-Hat-PodId: 89
X-Sorting-Hat-ShopId: 9517126
X-Storefront-Renderer-Rendered: 1
Set-Cookie: secure_customer_sig=; path=/; expires=Tue, 16 Oct 2040 17:04:51 GMT; secure; HttpOnly
X-Alternate-Cache-Key: cacheable:d629afc81ff5bc1bec3e194168989c5f
X-Cache: miss
Content-Security-Policy: block-all-mixed-content; frame-ancestors *; upgrade-insecure-requests;
Access-Control-Allow-Origin: *
Strict-Transport-Security: max-age=7889238
X-ShopId: 9517126
X-ShardId: 89
Vary: Accept
Content-Language: en
X-Shopify-Stage: canary
X-Dc: gcp-us-east1,gcp-us-east1,gcp-us-east1
X-Request-ID: 7f5d715d-34ad-47fe-9aa1-07cf30b7bc8f
Set-Cookie: cart_currency=USD; path=/; expires=Fri, 30 Oct 2020 17:04:51 GMT
Set-Cookie: _shopify_y=d22820c0-1114-4cc2-9531-b48893aa3372; Expires=Sat, 16-Oct-21 17:04:51 GMT; Domain=brooklinen.com; Path=/
Set-Cookie: _y=d22820c0-1114-4cc2-9531-b48893aa3372; Expires=Sat, 16-Oct-21 17:04:51 GMT; Domain=brooklinen.com; Path=/
X-Download-Options: noopen
X-Permitted-Cross-Domain-Policies: none
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
NEL: {"report_to":"network-errors","max_age":2592000,"failure_fraction":0.01,"success_fraction":0.0001}
Report-To: {"group":"network-errors","max_age":2592000,"endpoints":[{"url":"https://monorail-edge.shopifycloud.com/v1/reports/nel/20190325/shopify"}]}
CF-Cache-Status: DYNAMIC
cf-request-id: 05d3f825280000ea386d000000000001
Expect-CT: max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"
Server: cloudflare
CF-RAY: 5e335c81db39ea38-IAD
alt-svc: h3-27=":443"; ma=86400, h3-28=":443"; ma=86400, h3-29=":443"; ma=86400

<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]><html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]><html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if IE 9 ]><html class="ie9 no-js"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>

  <!-- Basic page needs ================================================== -->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <link rel="shortcut icon" type="image/png" href="//cdn.shopify.com/s/files/1/0951/7126/t/1457/assets/favicon.png?v=11464403572671781913" />
  <link rel="apple-touch-icon-precomposed" href="//cdn.shopify.com/s/files/1/0951/7126/t/1457/assets/apple-touch-icon-152x152.png?v=7983105083510359466" />

  <!-- Title and description ================================================== -->
  <title>
  Find the Best Bedding for You | Brooklinen
  </title>

  

  

  

  <!-- Helpers ================================================== --><!-- /snippets/social-meta-tags.liquid -->


  <meta property="og:type" content="website">
  <meta property="og:title" content="Find the Best Bedding for You | Brooklinen">
  
  <meta property="og:image" content="http://cdn.shopify.com/s/files/1/0951/7126/files/brooklinen_dy_logo.png?v=3132794603467610261">
  <meta property="og:image:secure_url" content="https://cdn.shopify.com/s/files/1/0951/7126/files/brooklinen_dy_logo.png?v=3132794603467610261">
  


  <meta property="og:url" content="https://www.brooklinen.com/pages/quiz">
  <meta property="og:site_name" content="Brooklinen">





  <meta name="twitter:site" content="@">




  
  
    <link rel="canonical" href="https://www.brooklinen.com/pages/quiz">
  

  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="theme-color" content="#42c8e2">

  <!-- Prefetch ================================================== -->
  <link rel="dns-prefetch" href="//ajax.googleapis.com">
  <link rel="dns-prefetch" href="//use.typekit.net">
  <link rel="dns-prefetch" href="//cdnjs.cloudflare.com">
  <link rel="dns-prefetch" href="//cdn.optimizely.com">

  <!-- START YOTTAA -->
    <script src="https://cdn.yottaa.com/rapid.min.js"></script>
    <script>
      Yo.configure('https://qoe-1.yottaa.net/api/v1/configure.rapid.js?key=cTNGTFD40YMBwA');
    </script>
  <!-- END YOTTAA -->

  <!-- CSS ================================================== -->
  <link href="//cdn.shopify.com/s/files/1/0951/7126/t/1457/assets/stylesheet.css?v=7109368177351017535" rel="stylesheet" type="text/css" media="all" />
  

  <!-- Nano Spacer =========================================== -->
  <script>
    var nanoHeightMobile = sessionStorage.getItem("_bl_nano_height_mobile");
    var nanoHeightDesktop = sessionStorage.getItem("_bl_nano_height_desktop");
    var nanoBackground = sessionStorage.getItem("_bl_nano_background");

    if( nanoHeightMobile && nanoHeightDesktop && nanoBackground ){
      var css = '#PageContainer, #NavDrawer, .site-header { margin-top: '+nanoHeightMobile+'px !important; }' +
                '.top-nav-sub-nav { top: '+nanoHeightMobile+'px !important; }' +
                '.nano-bg { height: '+nanoHeightMobile+'px !important; background: '+ nanoBackground +'}' +
                '@media screen and (min-width: 769px) { #PageContainer, #NavDrawer, .site-header { margin-top: '+nanoHeightDesktop+'px !important; } }' +
                '@media screen and (min-width: 769px) { .top-nav-sub-nav { top: '+nanoHeightDesktop+'px !important; } }' +
                '@media screen and (min-width: 769px) { .nano-bg { height: '+nanoHeightDesktop+'px !important;  } }';

      var head = document.head;
      var style = document.createElement('style');

      style.type = 'text/css';
      if (style.styleSheet){
        style.styleSheet.cssText = css;
      } else {
        style.appendChild(document.createTextNode(css));
      }
      head.appendChild(style);
    }
  </script>



  <!-- Header hook for plugins ================================================== -->
  <script>window.performance && window.performance.mark && window.performance.mark('shopify.content_for_header.start');</script><meta id="shopify-digital-wallet" name="shopify-digital-wallet" content="/9517126/digital_wallets/dialog">
<meta name="shopify-checkout-api-token" content="cd2936bf05fb24eb2c66b593da5f4663">
<meta id="in-context-paypal-metadata" data-shop-id="9517126" data-venmo-supported="true" data-environment="production" data-locale="en_US" data-paypal-v4="true" data-currency="USD">
<meta id="amazon-payments-metadata" data-amazon-payments="true" data-amazon-payments-seller-id="A2906204291OA0" data-amazon-payments-callback-url="https://www.brooklinen.com/9517126/amazon_payments/callback" data-amazon-payments-sandbox-mode="false" data-amazon-payments-client-id="amzn1.application-oa2-client.ef5512ef288d4d85a7b44f9b8e126b7d" data-amazon-payments-region="US" data-amazon-payments-language="en-US" data-amazon-payments-widget-library-url="https://static-na.payments-amazon.com/OffAmazonPayments/us/js/Widgets.js">
<link href="https://monorail-edge.shopifysvc.com" rel="dns-prefetch">
<script id="apple-pay-shop-capabilities" type="application/json">{"shopId":9517126,"countryCode":"US","currencyCode":"USD","merchantCapabilities":["supports3DS"],"merchantId":"gid:\/\/shopify\/Shop\/9517126","merchantName":"Brooklinen","requiredBillingContactFields":["postalAddress","email","phone"],"requiredShippingContactFields":["postalAddress","email","phone"],"shippingType":"shipping","supportedNetworks":["visa","masterCard","amex","discover","elo"],"total":{"type":"pending","label":"Brooklinen","amount":"1.00"}}</script>
<script id="shopify-features" type="application/json">{"accessToken":"cd2936bf05fb24eb2c66b593da5f4663","betas":["rich-media-storefront-analytics"],"domain":"www.brooklinen.com","predictiveSearch":true,"shopId":9517126,"smart_payment_buttons_url":"https:\/\/cdn.shopify.com\/shopifycloud\/payment-sheet\/assets\/latest\/spb.en.js","dynamic_checkout_cart_url":"https:\/\/cdn.shopify.com\/shopifycloud\/payment-sheet\/assets\/latest\/dynamic-checkout-cart.en.js","locale":"en"}</script>
<script>var Shopify = Shopify || {};
Shopify.shop = "brooklinen2.myshopify.com";
Shopify.locale = "en";
Shopify.currency = {"active":"USD","rate":"1.0"};
Shopify.theme = {"name":"2020-U-2","id":83809173594,"theme_store_id":null,"role":"main"};
Shopify.theme.handle = "null";
Shopify.theme.style = {"id":null,"handle":null};
Shopify.cdnHost = "cdn.shopify.com";</script>
<script type="module">!function(o){(o.Shopify=o.Shopify||{}).modules=!0}(window);</script>
<script>!function(o){function n(){var o=[];function n(){o.push(Array.prototype.slice.apply(arguments))}return n.q=o,n}var t=o.Shopify=o.Shopify||{};t.loadFeatures=n(),t.autoloadFeatures=n()}(window);</script>
<script>window.ShopifyPay = window.ShopifyPay || {};
window.ShopifyPay.apiHost = "pay.shopify.com";</script>
<script>(function() {
  function asyncLoad() {
    var urls = ["https:\/\/cdn.shopmsg.me\/platform\/shopify\/v1602081027\/588785404473852\/shopmessage_platform.js?shop=brooklinen2.myshopify.com","https:\/\/cdn.swellrewards.com\/loader\/D06-6dZPUqA9vgYpJNuEhg.js?shop=brooklinen2.myshopify.com","https:\/\/cdn.shopify.com\/s\/files\/1\/0951\/7126\/t\/1235\/assets\/postscript-sdk.js?v=1591976324\u0026shopId=1664\u0026shop=brooklinen2.myshopify.com","https:\/\/beacon.riskified.com\/?shop=brooklinen2.myshopify.com"];
    for (var i = 0; i < urls.length; i++) {
      var s = document.createElement('script');
      s.type = 'text/javascript';
      s.async = true;
      s.src = urls[i];
      var x = document.getElementsByTagName('script')[0];
      x.parentNode.insertBefore(s, x);
    }
  };
  if(window.attachEvent) {
    window.attachEvent('onload', asyncLoad);
  } else {
    window.addEventListener('load', asyncLoad, false);
  }
})();</script>
<script id="__st">var __st={"a":9517126,"offset":-14400,"reqid":"7f5d715d-34ad-47fe-9aa1-07cf30b7bc8f","pageurl":"www.brooklinen.com\/pages\/quiz","s":"pages-18826985562","u":"efcedd574a14","p":"page","rtyp":"page","rid":18826985562};</script>
<script>window.ShopifyPaypalV4VisibilityTracking = true;</script>
<script>window.ShopifyAnalytics = window.ShopifyAnalytics || {};
window.ShopifyAnalytics.meta = window.ShopifyAnalytics.meta || {};
window.ShopifyAnalytics.meta.currency = 'USD';
var meta = {"page":{"pageType":"page","resourceType":"page","resourceId":18826985562}};
for (var attr in meta) {
  window.ShopifyAnalytics.meta[attr] = meta[attr];
}</script>
<script>window.ShopifyAnalytics.merchantGoogleAnalytics = function() {
  ga('require', 'GTM-MD8RKQL');
ga('set', 'dimension1', (window.Yo ? Yo.rum.get().optState : 'yo-not-present'));
};
</script>
<script class="analytics">(window.gaDevIds=window.gaDevIds||[]).push('BwiEti');


(function () {
  var customDocumentWrite = function(content) {
    var jquery = null;

    if (window.jQuery) {
      jquery = window.jQuery;
    } else if (window.Checkout && window.Checkout.$) {
      jquery = window.Checkout.$;
    }

    if (jquery) {
      jquery('body').append(content);
    }
  };

  var isDuplicatedThankYouPageView = function() {
    return document.cookie.indexOf('loggedConversion=' + window.location.pathname) !== -1;
  }

  var setCookieIfThankYouPage = function() {
    if (window.location.pathname.indexOf('/checkouts') !== -1 &&
        window.location.pathname.indexOf('/thank_you') !== -1) {

      var twoMonthsFromNow = new Date(Date.now());
      twoMonthsFromNow.setMonth(twoMonthsFromNow.getMonth() + 2);

      document.cookie = 'loggedConversion=' + window.location.pathname + '; expires=' + twoMonthsFromNow;
    }
  }

  var trekkie = window.ShopifyAnalytics.lib = window.trekkie = window.trekkie || [];
  if (trekkie.integrations) {
    return;
  }
  trekkie.methods = [
    'identify',
    'page',
    'ready',
    'track',
    'trackForm',
    'trackLink'
  ];
  trekkie.factory = function(method) {
    return function() {
      var args = Array.prototype.slice.call(arguments);
      args.unshift(method);
      trekkie.push(args);
      return trekkie;
    };
  };
  for (var i = 0; i < trekkie.methods.length; i++) {
    var key = trekkie.methods[i];
    trekkie[key] = trekkie.factory(key);
  }
  trekkie.load = function(config) {
    trekkie.config = config;
    var script = document.createElement('script');
    script.type = 'text/javascript';
    script.onerror = function(e) {      var Monorail = {
      produce: function produce(monorailDomain, schemaId, payload) {
        var currentMs = new Date().getTime();
        var event = {
          schema_id: schemaId,
          payload: payload,
          metadata: {
            event_created_at_ms: currentMs,
            event_sent_at_ms: currentMs
          }
        };
        return Monorail.sendRequest("https://" + monorailDomain + "/v1/produce", JSON.stringify(event));
      },
      sendRequest: function sendRequest(endpointUrl, payload) {
        // Try the sendBeacon API
        if (window && window.navigator && typeof window.navigator.sendBeacon === 'function' && typeof window.Blob === 'function' && !Monorail.isIos12()) {
          var blobData = new window.Blob([payload], {
            type: 'text/plain'
          });
    
          if (window.navigator.sendBeacon(endpointUrl, blobData)) {
            return true;
          } // sendBeacon was not successful
    
        } // XHR beacon   
    
        var xhr = new XMLHttpRequest();
    
        try {
          xhr.open('POST', endpointUrl);
          xhr.setRequestHeader('Content-Type', 'text/plain');
          xhr.send(payload);
        } catch (e) {
          console.log(e);
        }
    
        return false;
      },
      isIos12: function isIos12() {
        return window.navigator.userAgent.lastIndexOf('iPhone; CPU iPhone OS 12_') !== -1 || window.navigator.userAgent.lastIndexOf('iPad; CPU OS 12_') !== -1;
      }
    };
    Monorail.produce('monorail-edge.shopifysvc.com',
      'trekkie_storefront_load_errors/1.0',
      {shop_id: 9517126,
      theme_id: 83809173594,
      app_name: "storefront"});          

      (new Image()).src = '//v.shopify.com/internal_errors/track?error=trekkie_load';
    };
    script.async = true;
    script.src = 'https://cdn.shopify.com/s/javascripts/tricorder/trekkie.storefront.min.js?v=2020.07.13.1';
    var first = document.getElementsByTagName('script')[0];
    first.parentNode.insertBefore(script, first);
  };
  trekkie.load(
    {"Trekkie":{"appName":"storefront","development":false,"defaultAttributes":{"shopId":9517126,"isMerchantRequest":null,"themeId":83809173594,"themeCityHash":"5956297077809054701","contentLanguage":"en","currency":"USD"},"isServerSideCookieWritingEnabled":true,"isPixelGateEnabled":true},"Performance":{"navigationTimingApiMeasurementsEnabled":true,"navigationTimingApiMeasurementsSampleRate":1},"Google Analytics":{"trackingId":"UA-46511635-1","domain":"auto","siteSpeedSampleRate":"10","enhancedEcommerce":true,"doubleClick":true,"includeSearch":true},"Session Attribution":{}}
  );

  var loaded = false;
  trekkie.ready(function() {
    if (loaded) return;
    loaded = true;

    window.ShopifyAnalytics.lib = window.trekkie;
    
      ga('require', 'linker');
      function addListener(element, type, callback) {
        if (element.addEventListener) {
          element.addEventListener(type, callback);
        }
        else if (element.attachEvent) {
          element.attachEvent('on' + type, callback);
        }
      }
      function decorate(event) {
        event = event || window.event;
        var target = event.target || event.srcElement;
        if (target && (target.getAttribute('action') || target.getAttribute('href'))) {
          ga(function (tracker) {
            var linkerParam = tracker.get('linkerParam');
            document.cookie = '_shopify_ga=' + linkerParam + '; ' + 'path=/';
          });
        }
      }
      addListener(window, 'load', function(){
        for (var i=0; i < document.forms.length; i++) {
          var action = document.forms[i].getAttribute('action');
          if(action && action.indexOf('/cart') >= 0) {
            addListener(document.forms[i], 'submit', decorate);
          }
        }
        for (var i=0; i < document.links.length; i++) {
          var href = document.links[i].getAttribute('href');
          if(href && href.indexOf('/checkout') >= 0) {
            addListener(document.links[i], 'click', decorate);
          }
        }
      });
    

    var originalDocumentWrite = document.write;
    document.write = customDocumentWrite;
    try { window.ShopifyAnalytics.merchantGoogleAnalytics.call(this); } catch(error) {};
    document.write = originalDocumentWrite;
      (function () {
        if (window.BOOMR && (window.BOOMR.version || window.BOOMR.snippetExecuted)) {
          return;
        }
        window.BOOMR = window.BOOMR || {};
        window.BOOMR.snippetStart = new Date().getTime();
        window.BOOMR.snippetExecuted = true;
        window.BOOMR.snippetVersion = 12;
        window.BOOMR.application = "storefront-renderer";
        window.BOOMR.themeName = "";
        window.BOOMR.themeVersion = "";
        window.BOOMR.shopId = 9517126;
        window.BOOMR.themeId = 83809173594;
        window.BOOMR.url =
          "https://cdn.shopify.com/shopifycloud/boomerang/shopify-boomerang-1.0.0.min.js";
        var where = document.currentScript || document.getElementsByTagName("script")[0];
        var parentNode = where.parentNode;
        var promoted = false;
        var LOADER_TIMEOUT = 3000;
        function promote() {
          if (promoted) {
            return;
          }
          var script = document.createElement("script");
          script.id = "boomr-scr-as";
          script.src = window.BOOMR.url;
          script.async = true;
          parentNode.appendChild(script);
          promoted = true;
        }
        function iframeLoader(wasFallback) {
          promoted = true;
          var dom, bootstrap, iframe, iframeStyle;
          var doc = document;
          var win = window;
          window.BOOMR.snippetMethod = wasFallback ? "if" : "i";
          bootstrap = function(parent, scriptId) {
            var script = doc.createElement("script");
            script.id = scriptId || "boomr-if-as";
            script.src = window.BOOMR.url;
            BOOMR_lstart = new Date().getTime();
            parent = parent || doc.body;
            parent.appendChild(script);
          };
          if (!window.addEventListener && window.attachEvent && navigator.userAgent.match(/MSIE [67]./)) {
            window.BOOMR.snippetMethod = "s";
            bootstrap(parentNode, "boomr-async");
            return;
          }
          iframe = document.createElement("IFRAME");
          iframe.src = "about:blank";
          iframe.title = "";
          iframe.role = "presentation";
          iframe.loading = "eager";
          iframeStyle = (iframe.frameElement || iframe).style;
          iframeStyle.width = 0;
          iframeStyle.height = 0;
          iframeStyle.border = 0;
          iframeStyle.display = "none";
          parentNode.appendChild(iframe);
          try {
            win = iframe.contentWindow;
            doc = win.document.open();
          } catch (e) {
            dom = document.domain;
            iframe.src = "javascript:var d=document.open();d.domain='" + dom + "';void(0);";
            win = iframe.contentWindow;
            doc = win.document.open();
          }
          if (dom) {
            doc._boomrl = function() {
              this.domain = dom;
              bootstrap();
            };
            doc.write("<body onload='document._boomrl();'>");
          } else {
            win._boomrl = function() {
              bootstrap();
            };
            if (win.addEventListener) {
              win.addEventListener("load", win._boomrl, false);
            } else if (win.attachEvent) {
              win.attachEvent("onload", win._boomrl);
            }
          }
          doc.close();
        }
        var link = document.createElement("link");
        if (link.relList &&
          typeof link.relList.supports === "function" &&
          link.relList.supports("preload") &&
          ("as" in link)) {
          window.BOOMR.snippetMethod = "p";
          link.href = window.BOOMR.url;
          link.rel = "preload";
          link.as = "script";
          link.addEventListener("load", promote);
          link.addEventListener("error", function() {
            iframeLoader(true);
          });
          setTimeout(function() {
            if (!promoted) {
              iframeLoader(true);
            }
          }, LOADER_TIMEOUT);
          BOOMR_lstart = new Date().getTime();
          parentNode.appendChild(link);
        } else {
          iframeLoader(false);
        }
        function boomerangSaveLoadTime(e) {
          window.BOOMR_onload = (e && e.timeStamp) || new Date().getTime();
        }
        if (window.addEventListener) {
          window.addEventListener("load", boomerangSaveLoadTime, false);
        } else if (window.attachEvent) {
          window.attachEvent("onload", boomerangSaveLoadTime);
        }
        if (document.addEventListener) {
          document.addEventListener("onBoomerangLoaded", function(e) {
            e.detail.BOOMR.init({
              producer_url: "https://monorail-edge.shopifysvc.com/v1/produce",
              ResourceTiming: {
                enabled: true,
                trackedResourceTypes: ["script", "img", "css"]
              },
            });
            e.detail.BOOMR.t_end = new Date().getTime();
          });
        } else if (document.attachEvent) {
          document.attachEvent("onpropertychange", function(e) {
            if (!e) e=event;
            if (e.propertyName === "onBoomerangLoaded") {
              e.detail.BOOMR.init({
                producer_url: "https://monorail-edge.shopifysvc.com/v1/produce",
                ResourceTiming: {
                  enabled: true,
                  trackedResourceTypes: ["script", "img", "css"]
                },
              });
              e.detail.BOOMR.t_end = new Date().getTime();
            }
          });
        }
      })();
    

    if (!isDuplicatedThankYouPageView()) {
      setCookieIfThankYouPage();
      
        window.ShopifyAnalytics.lib.page(
          null,
          {"pageType":"page","resourceType":"page","resourceId":18826985562}
        );
      
      
    }
  });

  
      var eventsListenerScript = document.createElement('script');
      eventsListenerScript.async = true;
      eventsListenerScript.src = "//cdn.shopify.com/s/assets/shop_events_listener-d81deda6557a113fbcc6a993184828adcef6f241e4ca52b6a21169cb03169317.js";
      document.getElementsByTagName('head')[0].appendChild(eventsListenerScript);
    
})();</script>
<script>!function(e){e.addEventListener("DOMContentLoaded",function(){var t;null!==e.querySelector('form[action^="/contact"] input[name="form_type"][value="contact"]')&&(window.Shopify=window.Shopify||{},window.Shopify.recaptchaV3=window.Shopify.recaptchaV3||{siteKey:"6LcCR2cUAAAAANS1Gpq_mDIJ2pQuJphsSQaUEuc9"},(t=e.createElement("script")).setAttribute("src","https://cdn.shopify.com/shopifycloud/storefront-recaptcha-v3/v0.1/index.js"),e.body.appendChild(t))})}(document);</script>
<script integrity="sha256-JP8SIsmqE7shdlPA0+ooxAp5aigObaKa1CHuwqYHXIY=" data-source-attribution="shopify.loadfeatures" defer="defer" src="//cdn.shopify.com/s/assets/storefront/load_feature-24ff1222c9aa13bb217653c0d3ea28c40a796a280e6da29ad421eec2a6075c86.js" crossorigin="anonymous"></script>
<script crossorigin="anonymous" defer="defer" src="//cdn.shopify.com/s/assets/shopify_pay/storefront-21b5dddfc8b64c1ad68cee3ba7448d1ffa15c24e969ebc1fbccf1a3784b659ad.js?v=20190107"></script>
<script integrity="sha256-h+g5mYiIAULyxidxudjy/2wpCz/3Rd1CbrDf4NudHa4=" data-source-attribution="shopify.dynamic-checkout" defer="defer" src="//cdn.shopify.com/s/assets/storefront/features-87e8399988880142f2c62771b9d8f2ff6c290b3ff745dd426eb0dfe0db9d1dae.js" crossorigin="anonymous"></script>


<style id="shopify-dynamic-checkout-cart">@media screen and (min-width: 750px) {
  #dynamic-checkout-cart {
    min-height: 50px;
  }
}

@media screen and (max-width: 750px) {
  #dynamic-checkout-cart {
    min-height: 240px;
  }
}
</style><script>window.performance && window.performance.mark && window.performance.mark('shopify.content_for_header.end');</script>
  <!-- /snippets/oldIE-js.liquid -->


<!--[if lt IE 9]>
<script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js" type="text/javascript"></script>
<script src="//cdn.shopify.com/s/files/1/0951/7126/t/1457/assets/respond.min.js?v=5224867783754261923" type="text/javascript"></script>
<link href="//cdn.shopify.com/s/files/1/0951/7126/t/1457/assets/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
<link href="//www.brooklinen.com/search?q=e53563e9f9d2d89a2e4932d8f3f500fa" id="respond-redirect" rel="respond-redirect" />
<script src="//www.brooklinen.com/search?q=e53563e9f9d2d89a2e4932d8f3f500fa" type="text/javascript"></script>
<![endif]-->



  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js" type="text/javascript"></script>
  <script src="//cdn.shopify.com/s/files/1/0951/7126/t/1457/assets/modernizr.min.js?v=13761751527417730222" type="text/javascript"></script>

  
  

  <script src="//cdn.shopify.com/s/files/1/0951/7126/t/1457/assets/brooklinen.js?v=15167219645248378172" type="text/javascript"></script>
  <script src="//cdn.shopify.com/s/files/1/0951/7126/t/1457/assets/bundle.js?v=17508692999701427071" type="text/javascript"></script>

  

  

<!-- START Dynamic Yield -->

  <script type="text/javascript">

    window.DY = window.DY || {};

    
      DY.recommendationContext = {type: 'OTHER'};
    

  </script>

  <script src="//cdn.dynamicyield.com/api/8768435/api_dynamic.js" type="text/javascript"></script>
  <script src="//cdn.dynamicyield.com/api/8768435/api_static.js" type="text/javascript"></script>
<!-- END Dynamic Yield -->

<!-- Global site tag (gtag.js) - Google Ads: 930458877 -->
<script async src="https://www.googletagmanager.com/gtag/js?id=AW-930458877"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'AW-930458877');

  // ID for YouTube
  gtag('config', 'AW-702839660');
</script>

<!-- START Tatari -->
  <script>
    !function(){try{!function(t,n){if(!n.version){window.tatari=n,n.init=function(t,e){var i=function(t,e){n[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};"track pageview identify".split(" ").forEach(function(t){i(n,t)}),n._i=t,n.pageview()},n.version="latest";var e=t.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://d2hrivdxn8ekm8.cloudfront.net/tracker-latest.min.js";var i=t.getElementsByTagName("script")[0];i.parentNode.insertBefore(e,i)}}(document,window.tatari||[])}catch(t){console.log(t)}}(); tatari.init('7ee4455c-963a-44d9-9f4d-3c240deb56bb');
  </script>

  
<!-- END Tatari -->

<!-- START New Facebook Pixel Code -->
    <script>
        !function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
        n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
        document,'script','//connect.facebook.net/en_US/fbevents.js');

        

        
          var matchObj = {};
        

        fbq('init', '847463095293947', matchObj);
        fbq('track', "PageView");

    </script>
    <noscript>
        <img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=847463095293947&ev=PageView&noscript=1"
    />
    </noscript>
<!-- END New Facebook Pixel Code -->





    <script>

      $(function(){

        function loadLiveChat(){
          console.log( 'CHAT: loading live chat');
          // Note: __lc must be global (via window.)
          window.__lc = {};
          __lc.license = 7275721;
          __lc.skill = 0;
          __lc.params = [
            { name: 'Cart', value: '0 items, $0.00 total' }
          ];

          var lc = document.createElement('script'); lc.type = 'text/javascript'; lc.async = false;
          lc.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'cdn.livechatinc.com/tracking.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(lc, s);
        }

        function loadSolvvy(){
          console.log( 'CHAT: loading solvvy');
          var solvvyScript = document.createElement("script");
          solvvyScript.type = "text/javascript";
          solvvyScript.src = "https://cdn.solvvy.com/deflect/customization/brooklinen/solvvy.js";
          solvvyScript.async = true;
          document.head.appendChild(solvvyScript);
        }

        function solvvyCSS(){
          var styles = '#solvvy-auto-support-flow {' +
            'z-index: 999990 !important;' +
            'position: fixed !important;' +
          '}' +
          '.solvvy-support-flow-launch-widget {' +
            'z-index: 99;' +
          '}' +
          '@media screen and (max-width: 641px){' +
            '.solvvy-support-flow-launch-widget {' +
              'display: none !important;' +
            '}' +
          '}';
          

          var solvvyStyleSheet = document.createElement("style");
          solvvyStyleSheet.type = "text/css"
          solvvyStyleSheet.innerText = styles
          document.head.appendChild(solvvyStyleSheet);
        }

        // Get settings from theme
        var useSolvvy = ('false' === 'true');
        var startHour = parseInt('0');
        var endHour = parseInt('0');
        var solvvyAlways = ('true' === 'true');
        var livechatAlways = ('true' === 'true');

        // Set flags if on Contact or Checkout
        // (checkout flag isn't currently used)
        var template = 'page.quiz-surefoot';
        var isContact = false;
        if(template.indexOf('contact') > -1 ){
          var isContact = true;
        }
        var isCheckout = parseInt('0');

        // Live customer support is in New York (EST)
        var timezone = 'America/New_York';
        var liveSupportStartTime = moment().tz(timezone).hours(startHour).minutes(0).seconds(0);
        // console.log('liveSupportStartTime ' + liveSupportStartTime.format('LT'));
        var liveSupportEndTime = moment().tz(timezone).hours(endHour).minutes(0).seconds(0);
        // console.log('liveSupportEndTime ' + liveSupportEndTime.format('LT'));

        // nowLocal is only for testing, the only local time that matters is NY/EST
        var nowLocal = moment();
        var nowInNY = moment().tz(timezone);
        // console.log('nowLocal ' + nowLocal.format('LT'));
        // console.log('nowInNY ' + nowInNY.format('LT'));
        var liveSupportAvailable = nowInNY.isBetween(liveSupportStartTime,liveSupportEndTime);
        console.log('CHAT liveSupportAvailable ' + liveSupportAvailable);

        // Only load any chat if over a min width
        var isMinWidth = matchMedia('only screen and (min-width: 641px)').matches;

        if( isMinWidth ){

          if( livechatAlways || solvvyAlways ){
            if( solvvyAlways ){
              solvvyCSS();
              loadSolvvy();
            }
            if( livechatAlways ){
              loadLiveChat();
            }
          }else{ // Use the time based solution
            // If there is not live support or we're on the Contact page, load Solvvy
            if( !liveSupportAvailable || isContact ){
              solvvyCSS();
              loadSolvvy();
            }else{
              loadLiveChat();
            }
          }
        }
      });
    </script>



<!-- START - Yotpo -->
  
    <script type="text/javascript">
    (function e(){var e=document.createElement("script");e.type="text/javascript",e.async=true,e.src="//staticw2.yotpo.com/MdtpPOdzecvdDWwA3pFvhLyB6ab4osWf5p8TQHpj/widget.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})();
    </script>
  
<!-- END - Yotpo -->

<!-- START - Taboola -->
<script type="text/javascript">
    window._tfa = window._tfa || [];
    _tfa.push({notify:"mark", type: 'ExRetargeting'});
</script>
<script src="//cdn.taboola.com/libtrc/brooklinen-sc/tfa.js"></script>
<!-- END - Taboola -->







<!-- START Pinterest NEW -->
<script type="text/javascript">
    !function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};var n=window.pintrk;n.queue=[],n.version="3.0";var t=document.createElement("script");t.async=!0,t.src=e;var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(t,r)}}("https://s.pinimg.com/ct/core.js");

    pintrk('load','2612948917583',{
      
    });

    pintrk('page', {
        page_name: 'Find the Best Bedding for You | Brooklinen',
        page_category: 'page'
    });
</script>

<noscript>
    <img height="1" width="1" style="display:none;" alt="" src="https://ct.pinterest.com/v3/?tid=2612948917583&noscript=1" />
</noscript>
<!-- END Pinterest NEW -->


<!-- START Sharesale Mastertag -->
  <script>
    var shareasaleShopifySSCID=shareasaleShopifyGetParameterByName("sscid");function shareasaleShopifySetCookie(e,a,o,i,r){if(e&&a){var s,S=i?"; path="+i:"",h=r?"; domain="+r:"",t="";o&&((s=new Date).setTime(s.getTime()+o),t="; expires="+s.toUTCString()),document.cookie=e+"="+a+t+S+h}}function shareasaleShopifyGetParameterByName(e,a){a||(a=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var o=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(a);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null}shareasaleShopifySSCID&&shareasaleShopifySetCookie("shareasaleShopifySSCID",shareasaleShopifySSCID,94670778e4,"/");
  </script>
<!-- END Sharesale Mastertag -->

<!-- START Kenshoo Tag -->
  <script>
    !function(a,b,c,d,e,f,g){a.ktag||(e=function(){e.sendEvent?e.sendEvent(arguments):e.ktq.push(arguments)},e.ktq=[],
    a.ktag=e,f=b.getElementsByTagName(d)[0],g=b.createElement(d),g.async=!0,g.src=c,f.parentNode.appendChild(g))
    }(window,document,"//resources.xg4ken.com/js/v2/ktag.js?tid=KT-N3ABF-3EB","script");

    ktag('setup', 'KT-N3ABF-3EB', '<USER_ID>');
  </script>
  <noscript>
    <img src="https://events.xg4ken.com/pixel/v2?tid=KT-N3ABF-3EB&noscript=1" width="1" height="1" style="display:none"/>
  </noscript>
<!-- END Kenshoo Tag -->

<!-- START Snapchat -->
  <script type='text/javascript'>
    (function(win, doc, sdk_url){
    if(win.snaptr) return;
    var tr=win.snaptr=function(){
    tr.handleRequest? tr.handleRequest.apply(tr, arguments):tr.queue.push(arguments);
  };
    tr.queue = [];
    var s='script';
    var new_script_section=doc.createElement(s);
    new_script_section.async=!0;
    new_script_section.src=sdk_url;
    var insert_pos=doc.getElementsByTagName(s)[0];
    insert_pos.parentNode.insertBefore(new_script_section, insert_pos);
  })(window, document, 'https://sc-static.net/scevent.min.js'); 

  
   snaptr('init', '15913fc5-6301-4257-a1e1-7714317d1346');                                               
                                                
   snaptr('track', 'PAGE_VIEW');
  </script>
<!-- END Snapchat -->

<!-- START LiveConnectTag for advertisers -->
  <script type="text/javascript" src="//b-code.liadm.com/a-01l2.min.js" async="true" charset="utf-8"></script>
  
  

  

<!-- END LiveConnectTag for advertisers -->

<!-- START Reddit Conversion Pixel -->
  <script>
  !function(w,d){if(!w.rdt){var p=w.rdt=function(){p.sendEvent?p.sendEvent.apply(p,arguments):p.callQueue.push(arguments)};p.callQueue=[];var t=d.createElement("script");t.src="https://www.redditstatic.com/ads/pixel.js",t.async=!0;var s=d.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}}(window,document);rdt('init','t2_s7oxe');rdt('track', 'PageVisit');
  </script>
<!-- DO NOT MODIFY -->
<!-- END Reddit Conversion Pixel -->

<!-- START Movable Ink -->
<script type='text/javascript'>
  (function(m,o,v,a,b,l,e) {
    if (typeof m['MovableInkTrack'] !== 'undefined') { return; }
    m['MovableInkTrack'] = b;
    l = o.createElement(v);
    e = o.getElementsByTagName(v)[0];
    l.type = 'text/javascript'; l.async = true;
    l.src = '//' + a + '/p/js/1.js';
    m[b] = m[b] || function() { (m[b].q=m[b].q||[]).push(arguments); };
    e.parentNode.insertBefore(l, e);

    /* Exclusively for Brooklinen */
  })(window, document, 'script', 'raof9iiu.micpn.com', 'mitr');
</script>
<!-- END Movable Ink -->

<!-- START Heap -->
<script type="text/javascript">
  window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src="https://cdn.heapanalytics.com/js/heap-"+e+".js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(r,a);for(var n=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","resetIdentity","removeEventProperty","setEventProperties","track","unsetEventProperty"],o=0;o<p.length;o++)heap[p[o]]=n(p[o])};
  heap.load("3048295484");
</script>
<!-- END Heap -->
 
<!-- START Emarsys -->
<script type="text/javascript">
  var ScarabQueue = ScarabQueue || [];
  (function(id) {
    if (document.getElementById(id)) return;
    var js = document.createElement('script'); js.id = id;
    js.src = '//cdn.scarabresearch.com/js/1488A59762E034CF/scarab-v2.js';
    var fs = document.getElementsByTagName('script')[0];
    fs.parentNode.insertBefore(js, fs);
  })('scarab-js-api');
  </script>
<!-- END Emarsys -->

  
<script type="text/javascript">

  // For testing
  // window._activatePromo1 = true;

  // Via settings 
  

  if (window._activatePromo1 == true) {
    /**
     * To minimize flashing of conetent, before jQuery's ready, add a style tag 
     * to the header that makes the default slider invisible, and then show the 
     * promo version when the dom is ready
     * Note: limit to the hero image on the index page
     *       to prevent conflicts with landing pages
     */
    
    /* 
     * Hide both the logo and hero (on home)
     * /
    // var css = '.template-index #image-single-home { display: none; } .site-header__logo img { visibility: hidden; } ',
    //     head = document.head,
    //     style = document.createElement('style');

    /* 
     * Hide ONLY hero (on home)
     */
    var css = '.template-index #image-single-home { display: none; }',
        head = document.head,
        style = document.createElement('style');

    style.type = 'text/css';
    if (style.styleSheet){
      style.styleSheet.cssText = css;
    } else {
      style.appendChild(document.createTextNode(css));
    }
    head.appendChild(style);

    // // Set the promo best sellers as a global
    // window._promo1BestSellersUrl = '/collections/best-sellers-anniversary-2018';

    // // Redirect best sellers to promo version using liquid 
    // // to detect the template
    // 

    // DOM ready updates
    $(function(){

      /* 
       * Update the logo
       */
      // // Remove the src and srcset, then update the src using a very shory timeout 
      // // to ensure the updated src happens sequentially 
      // var promoLogoUrl = 'https://cdn.shopify.com/s/files/1/0951/7126/files/anniversary_logo.png?13372908898278142696';
      // $('.site-header__logo img').attr('srcset','').attr('src','');
      // setTimeout(function(){
      //   $('.site-header__logo img').attr('src',promoLogoUrl).css('visibility','visible');
      // },1);

      /* 
       * Update all links to to best sellers to promo version
       */
      // $('a[href*="best-sellers"]').attr('href',_promo1BestSellersUrl);

      /* 
       * Show the promo version of the home slider
       */
      $('#image-single-home-promo').removeClass('hide');

    });
  }

  // The below code is the same as above but for the second version of the promo theme.
  
  // For testing
  // window._activatePromo2 = true;

  // Via settings 
  
    window._activatePromo2 = true;
  

  if (window._activatePromo2== true) {

    var css = '.template-index #image-single-home { display: none; }',
        head = document.head,
        style = document.createElement('style');

    style.type = 'text/css';
    if (style.styleSheet){
      style.styleSheet.cssText = css;
    } else {
      style.appendChild(document.createTextNode(css));
    }
    head.appendChild(style);

    // DOM ready updates
    $(function(){

      $('#image-single-home-promo2').removeClass('hide');

    });
  }

  // The below code is the same as above but for the third version of the promo theme.
  
  // For testing
  // window._activatePromo3 = true;

  // Via settings 
  

  if (window._activatePromo3== true) {

    var css = '.template-index #image-single-home { display: none; }',
        head = document.head,
        style = document.createElement('style');

    style.type = 'text/css';
    if (style.styleSheet){
      style.styleSheet.cssText = css;
    } else {
      style.appendChild(document.createTextNode(css));
    }
    head.appendChild(style);

    // DOM ready updates
    $(function(){

      $('#image-single-home-promo3').removeClass('hide');

    });
  }

</script>
  <script type="text/javascript">
  /**
   * To avoid a flashing of conetent, before jQuery's ready, add a style tag 
   * to the header that makes the page container invisible, and then remove it
   * after the DOM manipulations
   */
  var css = '.template-collection-luxe-sheets #PageContainer, .template-collection-classic-sheets #PageContainer, .template-collection-linen-sheets #PageContainer, .template-collection-color #PageContainer, .template-collection-last-call #PageContainer { visibility: hidden; }',
      head = document.head,
      style = document.createElement('style');

  style.type = 'text/css';
  if (style.styleSheet){
    style.styleSheet.cssText = css;
  } else {
    style.appendChild(document.createTextNode(css));
  }

  head.appendChild(style);

  jQuery(function($){

    // Remove the visiblity set before the DOM was ready
    $('#PageContainer').css('visibility','visible');
    $('#PageContainer').wrapInner('<div class="page-container-inner" />');

    // Holds the custom product descriptions
    var product_descriptions = {
      // Luxe
      'luxe-sheets-collection' : 'Raise your sheet game with ultra-luxe 480 thread count long-staple cotton sheets. Soft, smooth and perfect for year-round comfort.',
      'luxe-core-sheet-set' : '<b>Comes with:</b><br/><ul class="contains"><li>1 Flat Sheet</li><li>1 Fitted Sheet</li><li>2 Pillowcases</li></ul>',
      'luxe-hardcore-sheet-bundle' : '<b>Comes with:</b><br/><ul class="contains"><li>1 Core Sheet Set (Flat sheet, Fitted Sheet, and 2 Pillowcases)</li><li>1  Duvet Cover</li><li>2 Extra Pillowcases</li></ul>',
      'luxe-duvet-cover' : '<b>Comes with:</b><br/><ul class="contains"><li>1 Duvet Cover</li></ul>',
      'luxe-pillowcases' : '<b>Comes with:</b><br/><ul class="contains"><li>2 Pillowcases</li></ul>',
      'luxe-fitted-sheets' : '<b>Comes with:</b><br/><ul class="contains"><li>1 Fitted Sheet</li></ul>',
      'luxe-starter-sheet-set' : '<b>Comes with:</b><br/><ul class="contains"><li>1 Fitted Sheet</li><li>2 Pillowcases</li></ul>',

      // Classic
      'classic-sheets-collection' : 'Make your whole bed feel like the cool side of the pillow with our lightweight and breathable 270 thread count cotton percale sheets.',
      'classic-core-sheet-set' :'<b>Comes with:</b><br/><ul class="contains"><li>1 Flat Sheet</li><li>1 Fitted Sheet</li><li>2 Pillowcases</li></ul>',
      'classic-hardcore-sheet-bundle' : '<br/><b>Comes with:</b><br/><ul class="contains"><li>1 Core Sheet Set (Flat sheet, Fitted Sheet, and 2 Pillowcases)</li><li>1  Duvet Cover</li><li>2 Extra Pillowcases</li></ul>',
      'classic-duvet-cover' : '<b>Comes with:</b><br/><ul class="contains"><li>1 Duvet Cover</li></ul>',
      'classic-pillowcases' :  '<b>Comes with:</b><br/><ul class="contains"><li>2 Pillowcases</li></ul>',
      'classic-fitted-sheets' : '<b>Comes with:</b><br/><ul class="contains"><li>1 Fitted Sheet</li></ul>',
      'classic-starter-sheet-set' : '<b>Comes with:</b><br/><ul class="contains"><li>1 Fitted Sheet</li><li>2 Pillowcases</li></ul>',

      // Linen
      'linen-hardcore-sheet-bundle' : '<b>Comes with:</b><br/><ul class="contains"><li>1 Linen Core Sheet Set (Flat Sheet, Fitted Sheet, and 2 Pillowcases)</li><li>1 Linen Duvet Cover</li><li>2 Extra Linen Pillowcases</li></ul>',
      'linen-core-sheet-set' : '<b>Comes with:</b><br/><ul class="contains"><li>1 Linen Flat Sheet</li><li>1 Linen Fitted Sheet</li><li>2 Linen Pillowcases</li></ul>',
      'linen-duvet-cover' : '<b>Comes with:</b><br/><ul class="contains"><li>1 Linen Duvet Cover</li></ul>',
      'linen-pillowcases' : '<b>Comes with:</b><br/><ul class="contains"><li>2 Linen Pillowcases</li></ul>',
      'linen-quilt' : '<b>Comes with:</b><br/><ul class="contains"><li>1 Linen Quilt</li></ul>',
      'linen-shams' : '<b>Comes with:</b><br/><ul class="contains"><li>2 Linen Shams</li></ul>',

      // Last Call (Clearance)
      'core-sheet-set-last-call' : 'The Core Sheet Set includes <b>1 Flat Sheet, 1 Fitted Sheet, and 2 Pillowcases.</b>',
      'hardcore-sheet-bundle-last-call' : 'The Hardcore Sheet Bundle includes <b>1 Core Sheet Set, 1 Duvet Cover, and 2 Extra Pillowcases.</b>',
      'duvet-cover-last-call' : 'Duvet covers are easy-to-wash, protective outerlayers for your comforter and give your bed a fresh finish.',
      'pillowcases-last-call' : 'Pillowcases are sold as a <b>pair (2) of Pillowcases</b>.',
      'fitted-sheet-last-call' : 'Fitted sheets are sold individually as <b>a singular (1) Fitted Sheet.</b>',
      'starter-sheet-set-last-call' : 'Starter Sets include <b>1 Fitted Sheet and 2 Pillowcases.</b>'
    }

    // Only apply this to the sheets collections
    if( $('body').hasClass('template-collection-luxe-sheets') ||
        $('body').hasClass('template-collection-linen-sheets') ||
        // $('body').hasClass('template-collection-last-call') ||
        $('body').hasClass('template-collection-classic-sheets') ){

      // Remove the bottom border from the site-header by adding a style to the
      // head and then applying the style. This allows the class to be removed
      // when the page scroll and we need the border again.
      $( "<style>.site-header.no-border { border-bottom-color: #fff; }</style>" ).appendTo( "head" );
      $('.site-header').addClass('no-border');

      // Cache the elements
      $main_content = $('.main-content');
      $shelf_header = $('.shelf-header');

      // Clone the .main-content wrapper and add a class to target it
      var $DYmain_content = $main_content.clone().addClass('dy-main-content');
      // Insert after the original and hide while it's manipulated
      $DYmain_content.insertAfter($main_content).hide();

      // The sub breadcrums are set by targeting this class, so to avoid touching the
      // originals, update the ones in the clone to something DY specific
      $DYmain_content.find('.grid__item--product-variant-set')
                     .addClass('grid__item--product-variant-set-DY')
                     .removeClass('grid__item--product-variant-set');

      // Update the links on the sub-breadcrumbs for the hashed anchors, b/c duplicate ids
      // cause conflicts, this needs to be done after the first set is done, so delay with a timeout
      // setTimeout(function(){
      //   $DYmain_content.find('.sub-breadcrumb a').each(function(){
      //     var dy_href = $(this).attr('href') + '-dy';
      //     $(this).attr('href', dy_href);
      //   });
      // },10);

      // Cache the sets of variants
      var $product_sets = $DYmain_content.find('.grid__item--product-variant-set-DY');



      // Loop through each and update the DOM for new design
      $product_sets.each(function(){
        // Rule at top of each set
        $(this).before('<hr />');
        
        // Wrap the set in a grid div and prepend the sidebar div
        $(this).find('.grid').wrap('<div class="grid__item grid__item--image-grid three-quarters"></div>');
        $(this).prepend('<div class="grid__item grid__item--sidebar one-quarter"></div>');

        // Update the id target to match the new sub-breadcrumbs and add it to the sidebar
        var header_id = $(this).find('.product-header').attr('id') + '-dy';
        $(this).find('.grid__item--sidebar').attr('id',header_id);

        // Move the header copy into the new sidebar
        $(this).find('.product-header').appendTo( $(this).find('.grid__item--sidebar') );

        // This isn't used so remove it
        $(this).find('.product-header .subtitle').remove();

        // Remove the colon from the from price and apply it into the product header
        var from_price = $(this).find('.product-header .from-price').text().replace(/:/g, '');
        $(this).find('.product-header .from-price').text(from_price);

        // Remove the br from each title, since there is now only one line below each image
        $(this).find('.variant-product-title').each(function(){
          var variant_title = $(this).text().replace(/\//g, '<br />');
          $(this).html(variant_title);
        });

        // Get the product id and handle
        var product_id = $(this).data('productid');
        var review_product_id = $(this).data('reviewproductid');
        var handle = $(this).data('handle');

        // console.log(review_product_id);

        // If there is a review product id, ues that
        if( review_product_id != 0 ){
          product_id = review_product_id;
        }

        // Set the yotpo stars, if hardcore, use the site reviews count via an empty id
        if( handle.indexOf('ardcore') > 0 || handle.indexOf('arter') > 0 ){
          product_id = '';
        }
        $(this).find('.product-header .title').after('<div class="yotpo bottomLine" data-product-id="'+product_id+'"></div>');

        // Use the handle in the product description dictionary
        var description = product_descriptions[handle];
        $(this).find('.grid__item--sidebar .product-header').append('<p class="description">'+description+'</p>');

        // Get id attr from this DY element and use that to target the original (not DY version)
        // of the prouct header and add the DY description to the subtitle
        var org_header_id = '#'+$(this).find('.product-header').attr('id');
        $(org_header_id).find('span.subtitle').html(description);

        // This has been emptied so remove it
        $(this).find('.grid__item--product-header').remove();

        // Add the "available colors" line at the bottom

        // Count the products in the set to set number of colors accordingly, skip ones that are "Mix and Match"
        var product_count = $(this).find('.h5:not(:contains("atch"))').length;

        // Add the "available in" span w/ the product count
        $(this).find('.grid__item--sidebar .product-header').append('<span class="colors">Available in <span classs="count">'+product_count+'</span> Different Colors <span class="arrow"></span></span>');

        // Add "Best Sellers" above the hardcore products
        if ( $(this).find('span.title').text().indexOf('ardcore') > 0 ) {
          $(this).find('span.title').prepend('<h3 class="best-seller">Best Seller</h3>');
        }

        // Add links to the pdp on the text
        var pdp_link = $(this).find('a.grid__image').first().attr('href');
        $(this).find('.product-header').find('.title, .from-price, .description, .colors').wrap('<a href="'+pdp_link+'" />');

        // Add a link to the reviews on the pdp on the yotpo stars
        $(this).find('.yotpo.bottomLine').wrap('<a href="'+pdp_link+'#PdpReviews" style="block" />');

        // Wrap these contents in a grid div for the correct margins
        $(this).wrapInner('<div class="grid" />');

      });

      $(window).on('ready resize',function(){
        if( $(window).width() > 1080 ){
          $main_content.hide();
          $DYmain_content.show();
          setDynamicStyles();
        }else{
          $shelf_header.show();
          $main_content.show();
          $DYmain_content.hide()
        }
      });

      // Wait for the images to be loaded before running the dom manipulation
      $('#PageContainer').imagesLoaded(function() {
        if( $(window).width() > 1080 ){
          $main_content.hide();
          $DYmain_content.show();
          setDynamicStyles();
          // setCssStyles();
        }else{
          $shelf_header.show();
          $main_content.show();
          $DYmain_content.hide();
        }
      });

      // We have to wait for yotpo to be done adding the stars to then add commas
      $(window).on('load',function(){
        addCommasToReviewCounts();
        // Add some padding to the reviews text
        // setCssStyles();
      });

      // Function to set up sitck scroll on sidebar
      var initStickySidebar = function(){

        // Sticky scroll for sidebar
        // console.log("Init sticky scroll for sidebar");

        // Detach if calling a second time
        $(".product-header").trigger("sticky_kit:detach");

        // Get the height of the headers, etc. plus optional DY nano
        var site_header_h = $('header.site-header').outerHeight();
        var shelf_header_h = $('.shelf-header').outerHeight();
        var sub_breadcrum_h = $('.sub-breadcrumb').outerHeight();

        var sticky_offset = site_header_h;
        // Scroll offset needs to account for the top padding of the sets
        var scroll_offset = site_header_h + shelf_header_h + sub_breadcrum_h;

        // Account for the nano bar if present
        if( $('#nanoBarDynamicYield').length ){
          var dynano_h = $('#nanoBarDynamicYield').outerHeight();
          sticky_offset += dynano_h;
          scroll_offset -= dynano_h;
        }

        // There are two versions each with their own id right now, this should
        // be chnaged back to one id
        if( $('#DY-nanobar-flipclock').length ){
          var dynano_h = $('#DY-nanobar-flipclock').outerHeight();
          sticky_offset += dynano_h;
          scroll_offset -= dynano_h;
        }

        // console.log('sticky_offset '+sticky_offset);

        // When the sidebar sticks, show the bottom border on the header
        $(".product-header").stick_in_parent({
          'offset_top' : sticky_offset
        });

        // Show the bottom border when scrolled past the set height
        $(window).on('scroll',function() {
          var height = $(window).scrollTop();
          if(height  > scroll_offset ) {
            $('.site-header').removeClass('no-border');
          }else{
            $('.site-header').addClass('no-border');
          }
        });

      };

      initStickySidebar();

      // Check if the nano is present and positioned
      var isDyNano = setInterval(function() {
        if ( !$('#DY-nanobar-flipclock, #nanoBarDynamicYield').hasClass('repositioned') ) {
          // console.log('Still waiting on nano to be positioned');
          // Need a slight pause for the DY nano to annimate
          setTimeout(function(){
            initStickySidebar();
          },400);
        }else{
          clearInterval(isDyNano);
        }
      }, 100);

      // Stop if over 5 sec
      setTimeout(function(){
        clearInterval(isDyNano);
      },5000);

    } // if( $('body').hasClass();

    // Sets dynamic height for sticky scroll
    function setDynamicStyles(){
      $('.grid__item--sidebar').each(function(){
        var this_height = $(this).outerHeight(true);
        var parent_height = $(this).parent().find('.grid__item--image-grid').outerHeight(true);
        if( parent_height > this_height){
          $(this).css('height',parent_height+'px');
        }
      });
    }
  });
</script>


  

  <div id="LRS">
	<div id="LRS-wrapper">
		<div id="LRS-credit">
			<p id="LRS-amount"></p>
		</div>
		<div id="LRS-copy">
			<p>in available credit</p>
		</div>
		<a id="LRS-link" onClick="Loop.goBack()">Go Back</a>
	</div>
</div>

<style>
	html{
		font-size: 1rem;
	}
	.loop-returns-activated #LRS{
		transform: translateY(0);
		display: block;
	}
	#loopATC{
		display: none;
	}
    #LRS p{
      margin: 0;
    }
    #LRS div{
      margin: 0;
    }
    #LRS a:hover{
      background-color: white;
      color: #283455;
      border: 1px solid white;
      cursor: pointer;
    }
    #LRS{
      width: 100%;
      position: fixed;
      display: none;
      top: auto !important;
      bottom: 0 !important;
      left: 0;
      z-index: 2147483647;
      background-color: #283455;
      transform: translateY(100%);
      transition: transform 0.2s;
      font-size: 1rem;
    }
    #LRS.render{
      transform: translateY(-2rem);
    }
    #LRS-wrapper{
      width: 100%;
      padding: 0rem 1rem;
      display: flex;
      -ms-align-items: center;
      align-items: center;
    }
    #LRS-amount{
      color: white;
      margin-right: 0.5rem !important;
      font-size: 1.5rem;
      padding-left: 1rem;
      font-weight: 800;
    }
    #LRS-copy p{
      color: white;
      font-size: 1rem;
    }
    #LRS-link{
      color: white;
      display: block;
      padding: 0.5rem 1rem;
      margin: 1rem 0.5rem 1rem auto;
      border: 1px solid white;
      transition:  all 0.2s;
      &:hover{
      	color: black;
      	background-color: white;
      }
    }
    #LRS-credit{
    	float: left;
    }


    #LRS__investigation-block{
		position: fixed;
		right: 1rem;
		z-index: 819237;
		top: 1rem;
		width: 500px;
		background-color: #D8D8D8;
		max-height: 320px;
		overflow: hidden;
		border-radius: 4px;
    }

    #LRS__investigation-block p{
		font-size: 1rem;
		color: #2C2C2C;
		margin: 0;
		font-family: helvetica;
		font-weight: 800;
		text-align: center;
    }

    .LRS__investigation-block__item{
		color: black;
		padding: 0.75rem;
		margin:  0.5rem 1rem;
		background-color: white;
		margin-bottom: 1rem;
		font-family: courier;
		font-size: 0.9rem;
		border:  1px solid #D8D8D8;
    }

    .LRS__investigation-block__info{
		padding: 1rem 1rem 0.5rem;
    }

    .LRS__investigation-block__img{
		width: 5rem;
		margin: auto;
    }

    .LRS__investigation-block__header{
    	background-color: #5665D2;
    	width: 100%;
    	padding: 1rem;
    	border-top-left-radius: 4px;
    	border-top-right-radius: 4px;
    }

    .LRS__investigation-block__header{
    	background-color: #5665D2;
    	width: 100%;
    	padding: 0.5rem;
    }

   	.LRS__investigation-block__close{
		position: absolute;
		top: 1rem;
		right: 1rem;
    }

    .LRS__investigation-block__close img{
		width: 1.5rem;
		filter: invert(1);
    }

    .LRS__investigation-block__header img{
    	width: 100%;
    }

    @media screen and (max-width: 680px) {
    	#LRS{
    		z-index: 200;
    		bottom: 3.2rem;
    	}
		#LRS-copy p{
      		font-size: 0.75rem;
    	}
	    #LRS-amount{
	    	font-size: 1.25rem;
	    	padding-left: 0.75rem;
	    }
    }
</style>

<script>
	var Loop = {

		data: null,
		status: null,
		tempVariant: null,
		tempInput: null,
		elements: null,
		config: {
			productMode: null,
			variantParam: 'variant',
			targets: {
				url: null,
				input: null,
				options: null,
				attr: null,
				atc: null
			}
		},
		investigator: {
			count: 0
		},

		//PUBLIC FUNCTIONS-----------------------------------------
	    //---------------------------------------------------------

	    //The bread and butter of interactions
	    setup: function(productMode){
	    	//Product Modes*** STRING
	    	//-url
	    	//-input
	    	//-options
	    	if(productMode === undefined){
	    		//check to see if product mode is config'd
	    		if(this.config.productMode === undefined || this.config.productMode === null){
	    			this._throwError(['Setup Product Mode is undefined.', 'Please look at the Loop Docs to learn how to configure your Product Mode']);
	    			return false;
	    		}
	    		productMode = this.config.productMode;
	    	}

	    	this.config.productMode = productMode;


	    	switch(productMode){
	    		case 'url':
	    			//grab what should be the default variant
	    			

	    			if(Loop.getParams(Loop.config.variantParam)){
	    				this.tempVariant = Loop.getParams(Loop.config.variantParam);
	    			}
	    			this.bindElements();
	    			break;

	    		case 'input':
	    			var input;
	    			if(this.config.targets.input === null){
	    				this._throwError(['Input Element not defined.','Check out our docs to learn how to configure your Loop Settings']);
	    				return false;
	    			}
	    			input = document.querySelectorAll(this.config.targets.input);
	    			if(input.length == 1){
	    				this.bindElements(input);
	    			}else if(input.length == 0){
	    				this._throwError(['Could not find any elements with selector "' + this.config.targets.input +'"', "Double check to make sure 'Loop.config.targets.input' is pointed at the right selector."]);
	    				return false;
	    			}else if(input.length > 1){
	    				this._throwError(['Found multiple elements with selector "' + this.config.targets.input +'"', "Please make sure you are targeting a single input containing the selcted variant id as it's value"]);
	    				return false;
	    			}
	    			break;

	    		case 'options':
	    			var input;
	    			if(this.config.targets.options === null){
	    				this._throwError(['Input Element not defined.','Check out our docs to learn how to configure your Loop Settings']);
	    				return false;
	    			}
	    			input = document.querySelectorAll(this.config.targets.options);
	    			if(input.length == 0){
	    				this._throwError(['Could not find any elements with selector "' + this.config.targets.input +'"', "Double check to make sure 'Loop.config.targets.input' is pointed at the right selector."]);
	    				return false;
	    			}else{
	    				this.bindElements(input);
	    			}
	    			break;
	    		default:
	    			this._throwError(['Error in setup function', 'Check to make sure your configs and/or setup mode are configured correctly']);
	    			break;
	    	}
	    },
	    //used to watch for changes on the PDP
	    //inputs - required, array, binds with options or hidden input
	    //atc - optional, element, binds click event and stops cart
	    bindElements: function(inputs, atc){
	    	if(this.config.productMode === 'input'){
	    		inputs.forEach(function(element){
		   			element.addEventListener('change', function(){
		   				console.log(this.value);
		   			});
	   			});
	    	}
	   		if(atc === undefined){
	   			if(this.config.targets.atc){
	   				atc = document.querySelector(this.config.targets.atc);
	   			} else {
	   				return false;
	   			}
	   		}
	   		atc.addEventListener('click', function(event){
	   			event.preventDefault();
	   			event.stopImmediatePropagation();
	   			Loop.submit(undefined);
	   		});
	    },
	    //Uses Loop API to create cart
	    //variant - required, string, variant id
	    //callback - optional
		addToCart: function(variant, callback){
			if(variant === undefined){
				if(this.tempVariant != undefined){
					variant = this.tempVariant;
				} else {
					if(this.config.productMode === 'url'){
						console.log(Loop.getParams(Loop.config.variantParam));
						var paramVar = Loop.getParams(Loop.config.variantParam);
						if(paramVar != false){
							variant = paramVar;
						} else {
							this._throwError('No variant found, check your config');
							return false;
						}
					}else{
						this._throwError('No variant found, check your config');
						return false;
					}
				}
			}
			this.data.cart = variant;
			var payload = {
				cart: variant
			};
			this._requestMachine('POST', 'https://api.loopreturns.com/api/v1/cart/', payload, function(response){
				Loop.data.token = response.token;
				if(callback != undefined){
					console.dir(response);
					callback(response);
				}
			});
		},
		submit: function(variant){
			if(variant === undefined){
				if(this.tempVariant != undefined){
					variant = this.tempVariant;
				}
				if(this.config.productMode === 'url'){
					var paramVar = Loop.getParams(Loop.config.variantParam);
					if(paramVar != false){
						variant = paramVar;
					}
				}
				if(variant === undefined){
					this._throwError('No variant found, check your config');
					return false;
				}
			}
			this.data.cart = variant;
			var payload = {
				cart: variant
			};
			this._requestMachine('POST', 'https://api.loopreturns.com/api/v1/cart/', payload, function(response){
				Loop.data.token = response.token;
				Loop.goBack();
			});
		},
		//update the temp variant
		updateVariant: function(variant, callback){
			if(variant === undefined){
				this._throwError('updateVariant is recieving an undefined variant and cannot update');
				return false;
			}
			this.tempVariant = variant;
			if(callback != undefined){
				callback(tempVariant);
			}
		},
		//Dynamic "back to app" function
		goBack: function(){
	    	Loop.storage.kill('Loop_data');
	    	if(this.data.token != undefined){
		    	window.location.href = "http://" + this.data.loop_domain + "/#/cart/" + this.data.token;
		    }else{
		    	window.location.href = 'http://' + this.data.loop_redirect_url;
	    	}
	    },
	    //Attach api key and save it
	    setKey: function(key, callback){
	    	if(key === undefined){
				this._throwError('Function not being passed Loop API key');
				return false;
			}
	    	this.data.apiKey = key;
	    	this.storage.set('Loop_data', this.data);
	    	if(callback != undefined){
				callback();
			}
	    },
	    //URL decoder
		getParams: function(param){
			var result = {};
			window.location.search.substr(1).split("&").forEach(function(item){
				var tmp = item.split("=");
				result[tmp[0]] = decodeURIComponent(tmp[1]);
			});
			if(param != undefined){
				if(result[param]){
					return result[param];
				}
				this._throwError('No Params found with keyword: ' + param);
				return false;
			}
			return result;
		},
		//local storage communication
		storage: {
			get: function(storeName){
				return JSON.parse(localStorage.getItem(storeName) || null);
			},
			set: function(storeName, storeData){
				localStorage.setItem(storeName, JSON.stringify(storeData));
			},
			kill: function(storeName){
				localStorage.removeItem(storeName);
			}
		},
		//Binds to variant input often found on PDP
		attachListener: function(id){
			var foundElements = document.querySelectorAll(id);
			if(foundElements.length >= 1){
				foundElements.forEach(function(selector){
					selector.addEventListener('change',function(){
		      			console.log('Variant Changed to: ' + selector);
		        		Loop.tempVariant = document.querySelector(id).value;
		      		});
				});
		    } else {
		    	this._throwError('Cannot find selectors to attach to');
		    }
		},

		interigate: function(target){
			if(target.id != ""){
				return target.id;
   			}else{
   				console.log('No ID on objecting, checking classes');
   				console.log(target.classList);
   				if(target.classList > 0){
   					return target.classList;
   				} else {
   					return Loop.interigate(target.parentElement);
   				}
   			}
		},

		investigate: function(){
			//this requires JQuery unfortunately
			$('body').append('<div id="LRS__investigation-block"><div class="LRS__investigation-block__close"><img src="https://admin.loopreturns.com/img/icons/close.svg"></div><div class="LRS__investigation-block__header"><div class="LRS__investigation-block__img"><img src="https://admin.loopreturns.com/img/LoopLogo_small.png"></div></div><div class="LRS__investigation-block__info"><p>Click the "Add To Cart" Button</p></div></div>');
			document.addEventListener('click', function(event){
				console.log(event);
				Loop.investigator.count++;
				if(Loop.investigator.count > 3){
					firstElem = document.querySelector('.LRS__investigation-block__item');
					firstElem.parentNode.removeChild(firstElem);
				}
				event.preventDefault();
	   			event.stopImmediatePropagation();
	   			var targetSelector = Loop.interigate(event.target);

				$('#LRS__investigation-block').append('<div class="LRS__investigation-block__item">' + targetSelector + '</div>');
			});
		},

	    //ENCAPSULATED FUNCTIONS-----------------------------------
	    //---------------------------------------------------------

	   	//Vanilla AJAX requests
		_requestMachine: function(type, href, payload, callback){
			var data = null;

			if(payload != undefined){
				data = JSON.stringify(payload);
			}

			var xhr = new XMLHttpRequest();
			xhr.withCredentials = true;

			xhr.addEventListener("readystatechange", function () {
				if (this.readyState === this.DONE) {
				    callback(JSON.parse(this.responseText));
				}
			});

			xhr.open(type, href);
			xhr.setRequestHeader("x-authorization", this.data.apiKey);
			xhr.setRequestHeader("content-type", "application/json");
			xhr.send(data);
		},
	   	//Find global returns bar elements
		_scopeElements: function(){
			this.elements = {
				amount: document.getElementById('LRS-amount'),
				link: document.getElementById('LRS-link'),
				LRS: document.getElementById('LRS')
			};

		},
	   	//Renders information to the global returns bar
		_render: function(){
			var that = this;
			/*
			 * Modified by Eric I.
			 * Because we're using Loop.status to redirect
			 * to the DY quiz page, I moved the loop snippet and
			 * js into the head to avoid FOUC. This line, which should
			 * add the loop class to body was instead setting that
			 * as the only class on body, which in turn was
			 * breaking a lot of css. To fix this, I commented out
			 * this line here and added it to it's own script tag just
			 * below the opening body tag.
			*/
			// document.body.classList.add('loop-returns-activated');
			if(this.data.loop_total != undefined){
				this.elements.amount.innerHTML = this._moneyFilter(that.data.loop_total);
			}else{
				this._throwError(['Cannot find Data on render()'])
			}
		},
	   	//Turn ints into cold hard cash
		_moneyFilter: function(value){
	        if(value !== undefined){
				value = value.toString();
				if(value.length === 1){
					var firstHalf = '0';
					var secondHalf = '0' + value;
				} else if(value.length === 2){
					var firstHalf = '0';
					var secondHalf = value;

				} else {
					var firstHalf = value.slice(0,(value.length - 2));
					var secondHalf = value.substring(value.length, (value.length - 2));
				}

			return '$' + firstHalf + '.' + secondHalf;

			} else {
				return '$' + value;
			}
	    },
	    //Error control function
	    _throwError: function(error){
	    	console.log('[LOOP ERROR]----------------------------');
	    	if(typeof error === 'string'){
	    		console.log(error);
	    	}else if(Array.isArray(error)){
	    		error.forEach(function(error){
	    			console.log(error);
	    		});
	    	}else{
	    		console.log('Undefined Error');
	    	}
	    },
	    //Initialize Loop on the store
		_init: function(){
			//Check URL to see if user is coming from Loop Returns
			if(window.location.href.indexOf('loop_total') > -1){
				this.storage.set('Loop_data', this.getParams());
				window.history.replaceState({}, 'delete', '/');
			}
			//Check data storage to see if they are still in the middle of a return flow
			this.data = this.storage.get('Loop_data');
			if(this.data != null){
				this.status = 'active';
				this._scopeElements();
				this._render();
			}
		}
	};
	//Set it off
	Loop._init();
	//Loop.investigate();

</script>


<!-- PRODUCT DATA -->


  <script>
    if(Loop.status === 'active'){

      var loopRedirect = sessionStorage.getItem("_bl_loop_redirect");
      var loopRedirectUrl = "https://www.brooklinen.com/pages/shop-returns";

      if( !loopRedirect ){
        document.body.style.opacity = 0;
        sessionStorage.setItem("_bl_loop_redirect", true);
        window.location.replace(loopRedirectUrl);
      }

      Loop.setKey('7123c4fad66856348c34be3c2527f551e7eb46f6');

      // Post DOM ready changes
      $(function(){
        // Convert all links to the home page and to bestsellers
        // (for the cta on empty cart) to the redirect destination
        $('a[href$="https://www.brooklinen.com"], \
          a[href$="https://www.brooklinen.com/"], \
          a[href$="best-sellers"]')
          .each(function(){
            $(this).attr('href', loopRedirectUrl);
        });

        // Cart Specific Loop Functions
        if( $('body').hasClass('template-cart') ){

          // Hide the Amazon Pay button
          $('input.checkout-amazon').remove();

          // Cache the checkout button and add bottom margin
          // that was lost with the Amazon button
          $checkoutButton = $('input.checkout-now');
          $checkoutButton.css('margin-bottom','30px');

          // Bind Loop event to the checkout button
          $checkoutButton.on('click', function(event){
            // Don't submit the form
            event.preventDefault();
            var loopCartItems = [];
            // Get all the variant ids to send to Loop
            $('.cart__row--regular-item').each(function(){
              // Not all cart__row have items, check if the data attr is set
              var $row = $(this);
              if( $row.data('variant-id') ){
                var variantId = parseInt($(this).data('variant-id'));
                // Get the qty via the data attr on the quantity input
                // and push each instance to the array
                var qty = $row.find('.js-qty__num').data('current-qty');
                for(i=0; i < qty; i++){
                  loopCartItems.push( variantId );
                }
              }
            });
            // Only submit to Loop if there are items
            if( loopCartItems.length > 0 ){
              Loop.submit(loopCartItems);
            }
          }); // checkout button binding
        } // if template-cart

      });// ready
    } // if Loop active
  </script><style class="conceal-nav-css">
  /* CSS to conceal Nav so that our A/B test can load */
  header.site-header .top-nav {
    visibility: hidden;
  }
</style>
<script>
  /**
   * After 2 seconds, remove the CSS above that hides the Navbar. The Nav CSS will have taken oven by then if the test is live
   * If the new Nav does *not* load for some reason, this will undo the hiding CSS anyway
   */
  (function antiFlicker() {
    var DEBUG = window.location.href.indexOf('debug') > -1
    if (DEBUG) console.log('Nav Conceal anti-flicker CSS - installed');
    var stylesEl = document.querySelector('.conceal-nav-css');
    var navDelay = parseInt('2000');
    setTimeout(function() {
      if (DEBUG) console.log('Nav Conceal anti-flicker CSS - removed');
      if (stylesEl) stylesEl.parentElement.removeChild(stylesEl);
    }, navDelay)
  })()
</script>
<script>
    window.Brooklinen = window.Brooklinen || {};
    Brooklinen.shop = {
      "currency" : "USD",
      "secure_url" : "https://www.brooklinen.com",
    }
  </script>

</head>




<body id="find-the-best-bedding-for-you-brooklinen"  class="styleguide--2019  template-page template-page-quiz-surefoot title-find-the-best-bedding-for-you-brooklinen   "><script>
    if(Loop.status === 'active'){
      document.body.classList.add('loop-returns-activated');
    }
  </script>

  <a id="top"></a>
  <a href="#main-content" class="skip-nav btn" tabindex="0"><span>skip navigation</span></a>

  
  <div id="PageContainer" class="is-moved-by-drawer">
    
    <div class="mobile-nav-overlay">
      <div class="top"></div>
      <div class="bottom"></div>
    </div>

    
      <div class="unload-overlay">
        <div class="animation"></div>
      </div>
    

    <div class="nano-bg"></div>
    <header class="site-header" role="banner">

      <div class="wrapper">
        <div class="grid--full top-nav medium-down--hide">
          <div class="grid__item large--two-twelfths">
            
            
              <div class="h1 site-header__logo large--left" itemscope itemtype="http://schema.org/Organization">
            
              
                <a href="https://www.brooklinen.com" itemprop="url" class="site-header__logo-link">
                  <img src="//cdn.shopify.com/s/files/1/0951/7126/t/1457/assets/logo_240x.png?v=3132794603467610261"
                       srcset="//cdn.shopify.com/s/files/1/0951/7126/t/1457/assets/logo_240x.png?v=3132794603467610261 1x,
                               //cdn.shopify.com/s/files/1/0951/7126/t/1457/assets/logo_480x.png?v=3132794603467610261 2x"
                       alt="Brooklinen"
                       itemprop="logo"
                    />
                </a>
              
            
              </div>
            
          </div>
          <div class="grid__item five-twelfths text-center" role="navigation">
            <!-- snippets/nav-desktop.liquid -->
<ul class="top-nav-desktop-nav">
  <li class="top-nav-shop top-nav-has-sub-nav">
  	<div class="shop-a menu-a" tabindex="0">Shop<span class="sub-arrow">▼</span></div><!-- Start /snippets/nav-desktop-subnav-shop.liquid -->

<!-- Includes inline styles that are used to set default display values -->
<div class="top-nav-sub-nav shop-sub-nav tiered-nav">
  <div class="wrapper">
    <div class="tiered-nav-wrapper">
      <ul class="dropdown-menu" role="menu">

        <!-- /All Best Sellers -->
        <li class="single-item" data-submenu-id="submenu-best-sellers">
          <a class="maintainHover" href="/collections/best-sellers">Best sellers</a>

          <div id="submenu-best-sellers" class="popover maintainHover" style="display:block;">
            <div class="rightside">
              <img src="//cdn.shopify.com/s/files/1/0951/7126/files/luxe-hardcore-bundle_solid-white_silo.jpg?v=3602111493170742059"
                   alt="Luxe Hardcode Bundle in Solid White">
              <div class="menu-item-text">
                <h5 class="popover-title">All best sellers</h5>
                <p style="padding: 0 1em;">Shop our customers’ 5-star favorites<br><span class="italic">Sheets, towels, and more</span></p>
              </div>
            </div>
          </div>
        </li>
        <!-- /#submenu-best-sellers -->
        <!-- /All Sheets -->
        <li class="single-item" data-submenu-id="submenu-all-sheets-collection">
          <a href="http://www.brooklinen.com/pages/collections-sheets">Sheets</a>
          <div id="submenu-all-sheets-collection" class="popover">
            <div class="rightside">
              <img src="//cdn.shopify.com/s/files/1/0951/7126/files/luxe-hardcore-bundle_steel_silo.jpg?v=14653638183673596902"
                   alt="Classic Hardcore Bundle in Mix and Match">
              <div class="menu-item-text">
                <h5 class="popover-title">All sheets</h5>
                <p style="padding: 0 1em;">Find out why our sheets are internet-famous<br><span class="italic">Classic, Luxe, and Linen</span></p>
              </div>
            </div>
          </div>
        </li>
        <!-- /#submenu-sheets -->
        <!-- /All Towels -->
        <li class="single-item" data-submenu-id="submenu-towels">
          <a class="bath-link" href="/pages/collections-towels">Towels</a>
          <div id="submenu-towels" class="popover">
            <div class="rightside">
              <img src="//cdn.shopify.com/s/files/1/0951/7126/files/super-plush-bath-towel-set_white_silo.jpg?v=9320322473018677857"
                   alt="Super Plush Towel Set in White">
              <div class="menu-item-text">
                <h5 class="popover-title">All towels</h5>
                <p style="padding: 0 1em;">Make your morning routine anything but ordinary<br><span class="italic">Super-Plush, Classic, Ultralight, and Hammam</span></p>
              </div>
            </div>
          </div>
        </li>
        <!-- /#submenu-towels -->
        <!-- /All Loungewear -->
        <li class="single-item" data-submenu-id="submenu-loungewear">
          <a href="/pages/collections-loungewear">Loungewear</a>
          <div id="submenu-loungewear" class="popover">
            <div class="rightside">
              <img src="//cdn.shopify.com/s/files/1/0951/7126/files/loungewear-nav-bigger.jpg?v=15967139081565351482"
                   alt="Prospect Tee in Heather Grey"
                   class="lw-nav-image">
              <div class="menu-item-text">
                <h5 class="popover-title">All loungewear</h5>
                <p style="padding: 0 1em;">Essential basics so soft, it's like you never left bed.</p>
              </div>
            </div>
          </div>
        </li>
        <!-- /#submenu-loungewear -->
        <!-- /All Comforters -->
        <li class="single-item" data-submenu-id="submenu-comforters">
          <a href="/collections/comforters/">Comforters</a>
          <div id="submenu-comforters" class="popover">
            <div class="rightside">
              <img src="//cdn.shopify.com/s/files/1/0951/7126/files/down-comforter_all-season_silo.jpg?v=1285868614443760512"
                   alt="All-Season Down Comforter">
              <div class="menu-item-text">
                <h5 class="popover-title">All comforters</h5>
                <p style="padding: 0 1em;">Discover the closest thing to sleeping in a cloud<br><span class="italic">Down and Down Alternative</span></p>
              </div>
            </div>
          </div>
        </li>
        <!-- /#submenu-comforters -->
        <!-- /All Pillows -->
        <li class="single-item" data-submenu-id="submenu-pillows">
          <a href="/collections/pillows">Pillows</a>
          <div id="submenu-pillows" class="popover">
            <div class="rightside">
              <img src="//cdn.shopify.com/s/files/1/0951/7126/files/down-pillow_firm_silo.jpg?v=11416327890189358684"
                   alt="Down pillow in firm">
              <div class="menu-item-text">
                <h5 class="popover-title">All pillows</h5>
                <p style="padding: 0 1em;">Choose the perfect neck support from 3 levels<br><span class="italic">Plush, Mid-Plush, and Firm</span></p>
              </div>
            </div>
          </div>
        </li>
        <!-- /#submenu-pillows -->
        <!-- /All Brooklittles -->
        <li class="single-item" data-submenu-id="submenu-brooklittles">
          <a href="/collections/brooklittles">Brooklittles</a>
          <div id="submenu-brooklittles" class="popover">
            <div class="rightside">
              <img src="//cdn.shopify.com/s/files/1/0951/7126/files/toddler-bed-set_new-york-city.jpg?v=3989727830478721052"
                   alt="Toddler Bed Set in NYC print">
              <div class="menu-item-text">
                <h5 class="popover-title">All Brooklittles</h5>
                <p style="padding: 0 1em;">Because you’re never too young for the good sheet<br><span class="italic">Bedding, swaddles, and more</span></p>
              </div>
            </div>
          </div>
        </li>
        <!-- /#submenu-brooklittles -->
        <!-- /All Blankets -->
        <li class="single-item" data-submenu-id="submenu-blankets">
          <a href="/collections/blankets-and-shams">Blankets</a>
          <div id="submenu-blankets" class="popover">
            <div class="rightside">
              <img src="//cdn.shopify.com/s/files/1/0951/7126/files/throws_baby-alpaca-throw-in-tan-plaid_silo.jpg?v=7499705663379530432"
                   alt="Alpaca Throw in Tan Plaid">
              <div class="menu-item-text">
                <h5 class="popover-title">All blankets</h5>
                <p style="padding: 0 1em;">Perfect for cold toes or cozy decor<br><span class="italic">Wool, cashmere, alpaca, and cotton</span></p>
              </div>
            </div>
          </div>
        </li>
        <!-- /#submenu-blankets -->
        <!-- /All Accessories -->
        <li class="single-item" data-submenu-id="submenu-accessories">
          <a href="/collections/accessories">Accessories</a>
          <div id="submenu-accessories" class="popover">
            <div class="rightside">
              <img src="//cdn.shopify.com/s/files/1/0951/7126/files/scented-candles_am-to-pm-set_silo.jpg?v=12262757521432186549"
                   alt="AM to PM Secented Candle Set">
              <div class="menu-item-text">
                <h5 class="popover-title">All accessories</h5>
                <p style="padding: 0 1em;">The final bits and pieces for your upgrade<br><span class="italic">Candles, fabric care, and more</span></p>
              </div>
            </div>
          </div>
        </li>
        <!-- /#submenu-accessories -->
        <!-- /All Accessories -->
        <li class="single-item" data-submenu-id="submenu-spaces">
          <a href="/pages/spaces-by-brooklinen">Spaces by Brooklinen</a>
          <div id="submenu-spaces" class="popover">
            <div class="rightside">
              <img src="//cdn.shopify.com/s/files/1/0951/7126/files/spaces-nav-2_copy.jpg?v=18431318455328655931"
                    alt="AM to PM Secented Candle Set">
              <div class="menu-item-text">
                <h5 class="popover-title">Shop the Rooms</h5>
                <p style="padding: 0 1em;">Spaces is the simplest way to find stuff you love for your home.</p>
              </div>
            </div>
          </div>
        </li>
        <!-- /#submenu-accessories -->
        <!-- /All Last Call-->
        <li class="single-item" data-submenu-id="submenu-last-call">
          <a href="/collections/last-call">Last call</a>
          <div id="submenu-last-call" class="popover">
            <div class="rightside">
              <img src="//cdn.shopify.com/s/files/1/0951/7126/files/luxe-hardcore-bundle_solid-white_silo.jpg?v=3602111493170742059"
                   alt="Luxe Hardcore Bundle in White">
              <div class="menu-item-text">
                <h5 class="popover-title">Last call</h5>
                <p style="padding: 0 1em;">No more snoozes for these limited-edition items<br><span class="italic">Seasonal prints, fabrics, and more</span></p>
              </div>
            </div>
          </div>
        </li>
        <!-- /#submenu-last-call -->

      </ul>
    </div>
  </div>
</div>
<!-- /.shop-sub-nav -->

<!-- End /snippets/topnav-subnav-shop.liquid -->
</li>
  <li class="top-nav-best-sellers ">
    <a href="/pages/quiz">Get Started</a>
  </li>
  <li class="top-nav-about top-nav-has-sub-nav">
    <div class="about-a menu-a" tabindex="0">About<span class="sub-arrow">▼</span></div><!-- Start /snippets/nav-desktop-subnav-about.liquid -->

<div class="top-nav-sub-nav about-sub-nav tiered-nav">
  <div class="wrapper">
    <div class="tiered-nav-wrapper">
      <ul class="dropdown-menu" role="menu">

        <li class="single-item" data-submenu-id="submenu-about-us">
          <a class="maintainHover" href="/pages/about">About Us</a>
          <div id="submenu-about-us" class="popover maintainHover" style="display:block;">
            <div class="rightside">
              <img class="about-image founders" src="//cdn.shopify.com/s/files/1/0951/7126/files/rich-and-vicki_02.jpg?716067246913879639" alt="The founders of Brooklinen Rich and Viki Fulop">
              <div class="menu-item-text">
                <h5 class="popover-title">About Us</h5>
                <p style="padding: 0 1em;">Learn about our founders and why we're different.</p>
              </div>
            </div>
          </div>
        </li>
        <li class="single-item" data-submenu-id="submenu-our-sheets">
          <a href="/pages/about-sheets">Our Sheets</a>
          <div id="submenu-our-sheets" class="popover">
            <div class="rightside">
              <img class="about-image" src="//cdn.shopify.com/s/files/1/0951/7126/files/classic-hardcore-bundle_window-pane.jpg?7417926647931427570" alt="Classic Hardcore Bundle in Windowpane">
              <div class="menu-item-text">
                <h5 class="popover-title">Our Sheets</h5>
                <p style="padding: 0 1em;">We have the best sheets in the business, but how? To explain, we have to delve deep into the science of fabric and weaving.</p>
              </div>
            </div>
          </div>
        </li>
        <li class="single-item" data-submenu-id="submenu-our-comforters">
          <a href="/pages/about-down">Our Comforters</a>
          <div id="submenu-our-comforters" class="popover">
            <div class="rightside">
              <img class="about-image" src="//cdn.shopify.com/s/files/1/0951/7126/files/Product-Hero-Images-Comforters-2.jpg?4652590207574306342" alt="All-Season comforter">
              <div class="menu-item-text">
                <h5 class="popover-title">Our Comforters</h5>
                <p style="padding: 0 1em;">Our ultra versatile comforters are warm, fluffy and lightweight. Recently named The Sweethome’s “Best All-Around Pick”, our All-Season version beat out 86 other competitors along the way.</p>
              </div>
            </div>
          </div>
        </li>
        <li class="single-item" data-submenu-id="submenu-our-pillows">
          <a href="/pages/about-pillows">Our Pillows</a>
          <div id="submenu-our-pillows" class="popover">
            <div class="rightside">
              <img class="about-image" src="//cdn.shopify.com/s/files/1/0951/7126/files/Product-Hero-Images-Pillows.jpg?4652590207574306342" alt="A pillow">
              <div class="menu-item-text">
                <h5 class="popover-title">Our Pillows</h5>
                <p style="padding: 0 1em;">We made soft and springy plush pillows, made for snoozing. They have the perfect fill so you can max out on comfort.</p>
              </div>
            </div>
          </div>
        </li>
        <li class="single-item" data-submenu-id="submenu-our-towels">
          <a href="/pages/landing-towels">Our Towels</a>
          <div id="submenu-our-towels" class="popover">
            <div class="rightside">
              <img class="about-image" src="//cdn.shopify.com/s/files/1/0951/7126/files/super-plush-bath-towel-set_white_silo_400x_1d03b151-6255-4dce-a222-67ba524c97b6.jpg?654555" alt="A set of towels">
              <div class="menu-item-text">
                <h5 class="popover-title">Our Towels</h5>
                <p style="padding: 0 1em;">Woven from premium long-staple Turkish cotton, our towels will make your bath routine anything but ordinary.</p>
              </div>
            </div>
          </div>
        </li>
        <li class="single-item" data-submenu-id="submenu-our-loungewear">
          <a href="/pages/about-loungewear">Our Loungewear</a>
          <div id="submenu-our-loungewear" class="popover">
            <div class="rightside">
              <img class="about-image" src="https://cdn.shopify.com/s/files/1/0951/7126/files/loungewear-nav-bigger.jpg?1357690" alt="The Delancey Tee in Heather Gray">
              <div class="menu-item-text">
                <h5 class="popover-title">Our Loungewear</h5>
                <p style="padding: 0 1em;">Simple, ultra-comfortable, high-quality loungewear pieces that make you feel like you never left bed.</p>
              </div>
            </div>
          </div>
        </li>
      </ul>
    </div>
  </div>
</div>

<!-- End /snippets/topnav-subnav-about.liquid -->
</li>
   <li class="top-nav-reviews">
  	<a href="/pages/reviews">Reviews</a>
  </li>
</ul>
          </div>
          <div class="grid__item five-twelfths large--text-right medium-down--hide login-cart">

            <div class="site-header__extras">

              <div class="site-header__search">
                <!-- /snippets/search-bar.liquid -->




<div class="input-group-wrapper-desktop">
  <form action="/search" method="get" class="input-group search-bar" role="search">
    <input type="hidden" name="type" value="product">
    <input type="search" name="q" value="" placeholder="Search our store" class="input-group-field search-input-desktop" aria-label="Search our store">

    <span class="input-group-btn input-group-btn-desktop out">
      <button type="submit" class="btn btn--primary icon-fallback-text submit-btn-desktop">

        
        <span>Search</span>
      </button>
    </span>
  </form>
</div>

<script type="text/javascript">
  $(function(){

    // On mobile, clear the field that appears in the drawer
    $('.search-input-mobile').val('');

    // Show the field when only when you hover over the button
    $('.input-group-btn-desktop').on('mouseover',function(e){
      $('.input-group-wrapper-desktop').addClass('over');
      $('.search-input-desktop').focus();
    });
    // Hide the field when you leave the wrapper that contains the button and the field
    $('.input-group-wrapper-desktop').on('mouseleave',function(e){
      $('.input-group-wrapper-desktop').removeClass('over');
      // Also hide the suggestions if activated
      $('.easy-autocomplete-container ul').hide();
    });

    // In mobile nav, show when link is clicked
    $('.toggle-mobile-search').on('click',function(e){
      e.preventDefault();
      $(this).hide();
      $('.input-group-wrapper-mobile').show();
      $('.search-input-mobile').focus();
      // Make room for auto complete
      $(this).closest('ul.mobile-nav').addClass('mobile-nav-child--expanded');
    });

    // Easy Auto Complete
    
    
    

    var options = {
      data: [ "Firm Pillow","Pillow","Down Pillow","Alternative Down Pillow","Down Comforter","All-Season Down Comforter","All-Season Down","Plush Pillow","Mid-Plush Pillow","Firm Feather Pillow","Down Alternative Comforter","Classic Sheets","Percale","Cotton Percale","Classic Hardcore Bundle","Classic Core Set","Cotton Sateen","Linen Sheets","Linen","Linen Pillow Shams","Shams","Wool Blanket","Baby Alpaca Throw Blanket","Medium-Weight Blanket","Cashmere and Lambswool Throw Blanket","Soft Linen Quilts","Bath Towels","Hand Towels","Super-Plush Bath Towels","Bathroom Basics","Turkish Bath Towels","Hammam","Washcloths","Pillowcases","Deep Fitted Sheets","Hardcore Set","Core Sheet Sets","Flat Sheet","Fitted Sheet","Pillowcases","Lightweight","Mix-and-Match","Hardcore Bundle","Duvet Cover","Premium Set","Bedding","Scented Candle","Basic Sheet Set","Great Bedding Set" ],
      list: {
        onChooseEvent: function(){
          console.log('chosen');
          $(".search-input-desktop").closest('form').submit();
        },
        match: {
          enabled: true
        }
        
        ,
        sort: {
          enabled: true
        }
        
      }
    };

    $(".search-input-desktop").easyAutocomplete(options);
    // Remove the inline width that is set, causing an issue on mobile
    $('.easy-autocomplete').attr('style','');
    // Add some padding to the social icons to make some room for the tooltip on mobile
    $('.mobile-nav__item .social-icons').css({
      'paddingBottom' : '40px'
    });

  });
</script>

              </div>

              
              <div class="account-cart-wrapper">
                

                

                
                <span class="customer">
                  <a href="/account">My Account</a>
                </span>

                <a href="/cart" class="site-header__cart-toggle-OFF cart-item js-drawer-open-right-OFF" aria-controls="CartDrawer" aria-expanded="false">
                  <span class="icon-fallback-text">Cart
                    
                  </span>
                  <span id="CartCount">(0)
                  </span>
                  
                  <span class="cart-total hide" data-cart-total="0"></span>
                  
                  
                  <span class="cart-gift hide" data-free-gift-in-cart="false"></span>
                </a>
              </div>

              </div>
              <!-- /.site-header__extras -->
            </div>
        </div>

        

        
        

      </div>
    </header>

    <nav class="nav-bar large--hide" role="navigation" >
      <div class="wrapper">
        <div class="large--hide medium-down--show">
          <div class="grid">
            <!-- logo -->
            <div class="grid__item eight-twelfths">
              
              
                <div class="h1 site-header__logo text-center" itemscope itemtype="http://schema.org/Organization">
              
              

                <div class="site-header__nav-logo large--left" itemscope itemtype="http://schema.org/Organization">
                  <a href="https://www.brooklinen.com" itemprop="url" class="site-header__logo-link">
                    <img src="//cdn.shopify.com/s/files/1/0951/7126/t/1457/assets/logo_240x.png?v=3132794603467610261"
                         srcset="//cdn.shopify.com/s/files/1/0951/7126/t/1457/assets/logo_240x.png?v=3132794603467610261 1x,
                                 //cdn.shopify.com/s/files/1/0951/7126/t/1457/assets/logo_480x.png?v=3132794603467610261 2x"
                         alt="Brooklinen"
                         itemprop="logo"
                         class="logo"
                      />
                  </a>
                </div>

              
              
                </div>
              
            </div>

            <!-- menu-button -->
            <div class="grid__item grid__item--mobile-button four-twelfths text-right">
              <div class="site-nav--mobile">

                <!-- cart button -->
                <a href="/cart" class="js-drawer-open-right-OFF site-nav__link site-nav__link--mobile-cart" aria-controls="CartDrawer" aria-expanded="false">
                  <span class="icon-fallback-text">
                    <span class="icon icon-cart" aria-hidden="true"></span>
                    <span class="fallback-text">Cart</span>
                  </span>
                </a>

                <button type="button" class="icon-fallback-text site-nav__link js-drawer-open-right" aria-controls="NavDrawer" aria-expanded="false">
                  <span class="icon icon-hamburger" aria-hidden="true"></span>
                  <span class="fallback-text">Menu</span>
                  <span class="icon icon-x" aria-hidden="true"></span>
                  <span class="fallback-text">Close menu</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </nav>

    

    

    
    
    









































    
    
    

    
    <main class="wrapper main-content" role="main" id="main-content">
      <!-- /templates/page.quiz.liquid -->

<style>
  /* styles loaded first to prevent FOUC */

  /* hide quiz/error messaging until it's finished loading */
  .module--quiz {
    display: none;
  }

  .module--quiz.error {
    background: #EAF1FF;
  }

  /* fix whitespace above error message */
  .main-content.error {
      margin-top: 0;
  }

  .error-wrapper {
    height: 100%;
    justify-content: center;
    align-items: center;
    min-height: 80vh;
  }

  .error-container {
    text-align: center;
  }

  .error-container p {
      padding-bottom: 1.5em;
  }

  .btn--quiz.-primary {
    background-color: #324ECA;
    color: #fff;
  }

  .btn--quiz.-primary:hover {
    background-color: #2c47a7;
  }

  </style>

  <div class="module--quiz module--fullbleed">
    <div class="error-wrapper grid--flex">
        <div class="error-container">
            <h2 class="mb05em">Sorry!</h2>
            <p class="body large">It looks like there's been an error loading the quiz.</p>
            <a class="btn btn--quiz -primary" href="/">Continue Shopping</a>
        </div>
    </div>
  </div>

  <script>
  jQuery(function($) {
    // if quiz hasn't loaded yet, force the loader to appear on the screen until it has
    if (!window.quizLoaded) {
      jQuery('#PageContainer .unload-overlay').addClass('show');
    }


    // check if quiz is loaded every 500ms (for 9 seconds total)
    // *note: if the quiz successfully loads, the variable window.quizLoaded will be 'true'

    var attempts = 0;
    var DEBUG = (window.location.href.indexOf('debug') > 0);

    (function pollForQuizLoaded() {
      setTimeout(function(){
        if (window.quizLoaded) {
          // quiz has successfully loaded, hide the loader
          if (DEBUG) console.log('quiz | quizLoaded TRUE at attempt ' + attempts + '. hiding loader...');
          jQuery('#PageContainer .unload-overlay').removeClass('show');

        } else if (attempts < 18 && !window.quizLoaded) {
          // no quizLoaded yet, but keep looking
          if (DEBUG) console.log('quiz | quizLoaded still false at attempt ' + attempts + '. retrying pollForQuizLoaded...');
          attempts++;
          pollForQuizLoaded();

        } else {
          // the quiz module has not loaded after 9 seconds, so reveal the error message
          if (DEBUG) console.log('quiz | quizLoaded still false after attempt ' + attempts + '. loading error message...');
          // show the error message
          jQuery('.module--quiz').addClass('show error');

          // fix whitespace above error by adding a class to the .main-content wrapper
          jQuery('.main-content').addClass('error');

          // hide the loader
          jQuery('#PageContainer .unload-overlay').removeClass('show');

        }
      }, 500);
    })();

  });

  </script>


    </main>

    
    
<!-- footer.liquid --><!-- begin site-footer --><footer class="site-footer" role="contentinfo">
    <div class="wrapper">
      <div class="grid">
        <div class="grid__item grid__item--connect footer-item one-half medium--one-whole small--one-whole">
          <div class="connect-wrapper">
            <div class="footer-ecap">
              <div>
                <h3 class="newsletter-header">Get the good sheet</h3>
              </div>
              <div>
                <!-- Klavio Form -->
                 <form id="email_signup" class=" klaviyo_bare_embed_iR7h6x" action="//manage.kmail-lists.com/subscriptions/subscribe" data-ajax-submit="//manage.kmail-lists.com/ajax/subscriptions/subscribe" method="GET" target="_blank" novalidate="novalidate">
                  <input type="hidden" name="g" value="iR7h6x">
                  <div class="klaviyo_field_group">
                    <label for="k_id_email_footer">Email Address</label>
                    <input type="email" value="" name="email" id="k_id_email_footer" placeholder="Email address" />
                    <div class="klaviyo_messages">
                      <div class="success_message" style="display:none;"></div>
                      <div class="error_message" style="display:none;"></div>
                    </div>
                  </div>
                  <div class="klaviyo_form_actions input-group-btn">
                    <button type="submit" class="klaviyo_submit_button btn btn--primary" data-dy-event="newsletter"> → </button>
                  </div>
                </form>
                <script type="text/javascript" src="//www.klaviyo.com/media/js/public/klaviyo_subscribe.js"></script>
                <script type="text/javascript">
                  KlaviyoSubscribe.attachToForms('#email_signup', {
                    hide_form_on_success: true
                  });
                </script>
                <!-- End Klavio Form -->
              </div>
              <div>
                <p class="newsletter-body">
                  Sign up for marketing emails and find out when we’re launching new products.
                </p>
              </div>
            </div>
            <hr>
            <div class="footer-social">
              <h3>Let’s stay in touch</h3>
              <div class="social-icons">
  <a class="icon-fallback-text" href="https://facebook.com/brooklinen" 
    title="Brooklinen on Facebook" target="_blank">
    <img src="//cdn.shopify.com/s/files/1/0951/7126/t/1457/assets/social_icon_facebook_night_sky_bg.png?v=5465558311615885322" alt="Facebook" />
  </a>
  <a class="icon-fallback-text" href="https://twitter.com/brooklinen" 
    title="Brooklinen on Twitter" target="_blank">
    <img src="//cdn.shopify.com/s/files/1/0951/7126/t/1457/assets/social_icon_twitter_night_sky_bg.png?v=11474139213325025815" alt="Twitter" />
  </a>
  <a class="icon-fallback-text pinterest" href="https://pinterest.com/brooklinen"
    title="Brooklinen on Pinterest" target="_blank">
    <img src="//cdn.shopify.com/s/files/1/0951/7126/t/1457/assets/social_icon_pinterest_night_sky_bg.png?v=14927945607386098822" alt="Pinterest" />
  </a>
  <a class="icon-fallback-text" href="https://instagram.com/brooklinen"
    title="Brooklinen on Instagram" target="_blank">
    <img src="//cdn.shopify.com/s/files/1/0951/7126/t/1457/assets/social_icon_instagram_night_sky_bg.png?v=12944025913291502841" alt="Instagram" />
  </a>
</div>
<!-- // Social Icons -->

              <p><strong>Need help?</strong><br> Email an expert at <a href='mailto:hello@brooklinen.com' data-rel='external' class='contact'>hello@brooklinen.com</a><br> or call/text us at <a class='contact' href='tel:1-646-798-7447'>(646) 798-7447</a></p>
            </div>
            
              <hr>
              <div class="footer-terms-conditions">
                <p>* 1) Offers are applied at checkout, no code necessary. 2) Offers cannot be used in combination with any other offers or used on Final Sale/Last Call items 3) Free shipping within the U.S. only. 4) Offers are not applicable on the following brands: Bombabird Ceramics, Color Cord Company, Dims., Floyd, Inside Weather, Intelligent Change, Simply Framed and The Sill.</p>
              </div>
            
          </div>
        </div>
        <div class="grid__item footer-item one-half medium--one-whole small--one-whole">
          <div class="footer-nav-group shop-group">
            <h6>Shop</h6>
            <div class="grid grid--flex footer-nav-cols">
              <div class="grid__item footer-nav-col one-half">
                <ul>
                  <li><a href="/collections/best-sellers">Best Sellers</a></li>
                  <li><a href="/collections/classic-percale-sheets">Classic Sheets</a></li>
                  <li><a href="/collections/luxe-sateen-sheets">Luxe Sheets</a></li>
                  <li><a href="/collections/linen-sheets">Linen Sheets</a></li>
                  <li><a href="/collections/bath">Bath</a></li>
                </ul>
              </div>

              <div class="grid__item footer-nav-col one-half">
                <ul>
                  <li><a href="/collections/comforters">Comforters</a></li>
                  <li><a href="/collections/pillows">Pillows</a></li>
                  <li><a href="/collections/blankets">Blankets</a></li>
                  <li><a href="/pages/collections-loungewear">Loungewear</a></li>
                  <li><a href="/collections/accessories">Accessories</a></li>
                </ul>
              </div>
            </div>
          </div>
          <!-- // Shop Group -->

          <div class="footer-nav-group about-group">
            <h6>About</h6>
            <div class="grid grid--flex footer-nav-cols">
              <div class="grid__item footer-nav-col one-half">
                <ul>
                  <li><a href="/pages/about">About Us</a></li>
                  <li><a href="/pages/about-sheets">Our Sheets</a></li>
                  <li><a href="/pages/landing-towels">Our Towels</a></li>
                  <li><a href="/pages/about-down">Our Comforters</a></li>
                  <li><a href="/pages/about-pillows">Our Pillows</a></li>
                  <li><a href="/pages/about-loungewear">Our Loungewear</a></li>
                </ul>
              </div>

              <div class="grid__item footer-nav-col one-half">
                <ul>
                  <li><a href="/pages/our-store">Our Store</a></li>
                  <li><a href="/pages/spaces-by-brooklinen">Spaces by Brooklinen</a></li>
                  <li><a href="/pages/care-guide">Care Guide</a></li>
                  <li><a href="/pages/reviews">Reviews</a></li>
                  <li><a href="/blogs/brookliving">Brookliving Blog</a></li>
                </ul>
              </div>
            </div>
          </div>
          <!-- // About Group -->

          <div class="footer-nav-group help-group">
            <h6>Help</h6>
            <div class="grid grid--flex footer-nav-cols">
              <div class="grid__item footer-nav-col one-half">
                <ul>
                  <li><a href="/pages/faq">FAQ</a></li>
                  <li><a href="/pages/returns">Returns & Exchanges</a></li>
                  <li><a href="/pages/privacy">Privacy Policy</a></li>
                  <li><a href="/pages/contact">Contact Us</a></li>
                  <li><a href="/pages/trade">Trade Program</a></li>
                </ul>
              </div>

              <div class="grid__item footer-nav-col one-half">
                <ul>
                  <li><a href="/pages/rewards">Comfort Crew</a></li>
                  <li><a href="/blogs/careers">Careers</a></li>
                  
                </ul>
              </div>
            </div>
          </div>
          <!-- // Help Group -->
        </div>
      </div>
    </div>
  </footer><script type="text/javascript">
  // Disable the beforeunload overlay
  $('footer a[href^="mailto:"], footer a[href^="tel:"]').on('click',function(){
    $(window).unbind('beforeunload');
  });
</script>
<!-- //site-footer -->
<!-- //footer.liquid --></div>

  
  <div id="NavDrawer" class="drawer drawer--right">

    <div class="drawer__header">
      

        <div class="site-header__nav-logo large--left" itemscope itemtype="http://schema.org/Organization">
          <a href="https://www.brooklinen.com" itemprop="url" class="site-header__logo-link">
            <img src="//cdn.shopify.com/s/files/1/0951/7126/t/1457/assets/logo_240x.png?v=3132794603467610261"
                 srcset="//cdn.shopify.com/s/files/1/0951/7126/t/1457/assets/logo_240x.png?v=3132794603467610261 1x,
                         //cdn.shopify.com/s/files/1/0951/7126/t/1457/assets/logo_480x.png?v=3132794603467610261 2x"
                 alt="Brooklinen"
                 itemprop="logo"
                 class="logo"
              / >
          </a>
        </div>

      


      
      <div class="drawer__header--btns">
        <!-- cart button -->
        <a href="/cart" class="site-nav__link site-nav__link--mobile-cart" aria-controls="CartDrawer" aria-expanded="false">
          <span class="icon-fallback-text">
            <span class="icon icon-cart" aria-hidden="true"></span>
            <span class="fallback-text">Cart</span>
          </span>
        </a>
        <button type="button" class="icon-fallback-text site-nav__link js-drawer-open-right" aria-controls="NavDrawer" aria-expanded="false">
          
          <span class="icon icon-x" aria-hidden="true"></span>
          <span class="fallback-text">Close menu</span>
        </button>
      </div>
      <!-- /.drawer__header--btns -->

    </div>
    <!-- begin mobile-nav --><!-- snippets/nav-mobile-2.liquid -->
<ul class="mobile-nav">
  <li class="mobile-nav__item  category">
    <a href="/pages/quiz" class="mobile-nav__link">Get started</a>
  </li>
  <li class="mobile-nav__item  category">
    <a href="/collections/best-sellers" class="mobile-nav__link">Best sellers</a>
  </li>
  <li class="mobile-nav__item  category">
    <a href="/pages/collections-sheets" class="mobile-nav__link">Sheets</a>
  </li>
  <li class="mobile-nav__item  category">
    <a href="/pages/collections-towels" class="mobile-nav__link">Towels</a>
  </li>
  <li class="mobile-nav__item  category">
    <a href="/pages/collections-loungewear" class="mobile-nav__link">Loungewear</a>
  </li>
  <li class="mobile-nav__item  category">
    <a href="/collections/comforters" class="mobile-nav__link">Comforters</a>
  </li>
  <li class="mobile-nav__item  category">
    <a href="/collections/pillows" class="mobile-nav__link">Pillows</a>
  </li>
  <li class="mobile-nav__item  category">
    <a href="/collections/brooklittles" class="mobile-nav__link">Brooklittles</a>
  </li>
  <li class="mobile-nav__item  category">
    <a href="/collections/blankets-and-shams" class="mobile-nav__link">Blankets</a>
  </li>
  <li class="mobile-nav__item  category">
    <a href="/collections/accessories" class="mobile-nav__link">Accessories</a>
  </li>
  <li class="mobile-nav__item  category">
      <a href="/pages/spaces-by-brooklinen" class="mobile-nav__link">Spaces by Brooklinen</a>
    </li>
  <li class="mobile-nav__item  category">
    <a href="/collections/last-call" class="mobile-nav__link">Last Call</a>
  </li>
  <li class="mobile-nav__item">
    <a href="/pages/about" class="mobile-nav__link">About</a>
  </li>

  
  
    
      <li class="mobile-nav__item">
        <!--<a href="/account/login" id="customer_login_link">My account</a>-->
        <a href="/account/login" id="customer_login_link"><span>My Account</span></a>
      </li>
      
    
  

  <li class="mobile-nav__item mobile-nav__search" style="display: block;">
    <a href="#" class="toggle-mobile-search">Search</a>
      <!-- /snippets/search-bar.liquid -->




<div class="input-group-wrapper-mobile">
  <form action="/search" method="get" class="input-group search-bar" role="search">
    <input type="hidden" name="type" value="product">
    <input type="search" name="q" value="" placeholder="Search our store" class="input-group-field search-input-mobile" aria-label="Search our store">

    <span class="input-group-btn input-group-btn-mobile out">
      <button type="submit" class="btn btn--primary icon-fallback-text submit-btn-mobile">

        
        <span>Search</span>
      </button>
    </span>
  </form>
</div>

<script type="text/javascript">
  $(function(){

    // On mobile, clear the field that appears in the drawer
    $('.search-input-mobile').val('');

    // Show the field when only when you hover over the button
    $('.input-group-btn-desktop').on('mouseover',function(e){
      $('.input-group-wrapper-desktop').addClass('over');
      $('.search-input-desktop').focus();
    });
    // Hide the field when you leave the wrapper that contains the button and the field
    $('.input-group-wrapper-desktop').on('mouseleave',function(e){
      $('.input-group-wrapper-desktop').removeClass('over');
      // Also hide the suggestions if activated
      $('.easy-autocomplete-container ul').hide();
    });

    // In mobile nav, show when link is clicked
    $('.toggle-mobile-search').on('click',function(e){
      e.preventDefault();
      $(this).hide();
      $('.input-group-wrapper-mobile').show();
      $('.search-input-mobile').focus();
      // Make room for auto complete
      $(this).closest('ul.mobile-nav').addClass('mobile-nav-child--expanded');
    });

    // Easy Auto Complete
    
    
    

    var options = {
      data: [ "Firm Pillow","Pillow","Down Pillow","Alternative Down Pillow","Down Comforter","All-Season Down Comforter","All-Season Down","Plush Pillow","Mid-Plush Pillow","Firm Feather Pillow","Down Alternative Comforter","Classic Sheets","Percale","Cotton Percale","Classic Hardcore Bundle","Classic Core Set","Cotton Sateen","Linen Sheets","Linen","Linen Pillow Shams","Shams","Wool Blanket","Baby Alpaca Throw Blanket","Medium-Weight Blanket","Cashmere and Lambswool Throw Blanket","Soft Linen Quilts","Bath Towels","Hand Towels","Super-Plush Bath Towels","Bathroom Basics","Turkish Bath Towels","Hammam","Washcloths","Pillowcases","Deep Fitted Sheets","Hardcore Set","Core Sheet Sets","Flat Sheet","Fitted Sheet","Pillowcases","Lightweight","Mix-and-Match","Hardcore Bundle","Duvet Cover","Premium Set","Bedding","Scented Candle","Basic Sheet Set","Great Bedding Set" ],
      list: {
        onChooseEvent: function(){
          console.log('chosen');
          $(".search-input-mobile").closest('form').submit();
        },
        match: {
          enabled: true
        }
        
        ,
        sort: {
          enabled: true
        }
        
      }
    };

    $(".search-input-mobile").easyAutocomplete(options);
    // Remove the inline width that is set, causing an issue on mobile
    $('.easy-autocomplete').attr('style','');
    // Add some padding to the social icons to make some room for the tooltip on mobile
    $('.mobile-nav__item .social-icons').css({
      'paddingBottom' : '40px'
    });

  });
</script>

  </li>
</ul><li class="mobile-nav__item mobile-nav__search" style="display: block;">
  </div>
  <div id="CartDrawer" class="drawer drawer--left">
    <div class="drawer__header">
      <div class="drawer__title h3">Shopping Cart</div>
      <div class="drawer__close js-drawer-close">
        <button type="button" class="icon-fallback-text">
          <span class="icon icon-x" aria-hidden="true"></span>
          <span class="fallback-text">"Close Cart"</span>
        </button>
      </div>
    </div><!-- drawer__header -->
    <div id="CartContainer"></div>
  </div>

  <script src="//cdn.shopify.com/s/files/1/0951/7126/t/1457/assets/timber.js?v=11971318454242048351" type="text/javascript"></script>

  
  <script>
    
    
  </script>

  <script>
    function handleFirstTab(e) {
        if (e.keyCode === 9) { // the "I am a keyboard user" key
            document.body.classList.add('user-is-tabbing');
            window.removeEventListener('keydown', handleFirstTab);
        }
    }
    window.addEventListener('keydown', handleFirstTab);
  </script><script>
      $(function() {
        $(".main-content").addClass("wrapper--v1");
      });
    </script>
  <script src="//cdn.shopify.com/s/files/1/0951/7126/t/1457/assets/handlebars.min.js?v=7904446995236839729" type="text/javascript"></script>
  <!-- /snippets/ajax-cart-template.liquid -->

  <script id="CartTemplate" type="text/template">
  
    <form action="/cart" method="post" novalidate class="cart">
      <div class="ajaxcart__inner">
        {{#items}}
        <div class="ajaxcart__product">
          <div class="ajaxcart__row" data-line="{{line}}">
            <div class="grid">
              <div class="grid__item one-quarter">
                <a href="{{url}}" class="ajaxcart__product-image"><img src="{{img}}" alt=""></a>
              </div>
              <div class="grid__item three-quarters">
                <p>
                  <a href="{{url}}" class="ajaxcart__product-name">{{name}}</a>
                  {{#if variation}}
                    <span class="ajaxcart__product-meta">{{variation}}</span>
                  {{/if}}
                  {{#properties}}
                    {{#each this}}
                      {{#if this}}
                        <span class="ajaxcart__product-meta">{{@key}}: {{this}}</span>
                      {{/if}}
                    {{/each}}
                  {{/properties}}
                  
                </p>

                <div class="grid--full display-table">
                  <div class="grid__item display-table-cell one-half">
                    <div class="ajaxcart__qty">
                      <button type="button" class="ajaxcart__qty-adjust ajaxcart__qty--minus icon-fallback-text" data-id="{{id}}" data-qty="{{itemMinus}}" data-line="{{line}}">
                        <span class="icon icon-minus" aria-hidden="true"></span>
                        <span class="fallback-text">&minus;</span>
                      </button>
                      <input type="text" name="updates[]" class="ajaxcart__qty-num" value="{{itemQty}}" min="0" data-id="{{id}}" data-line="{{line}}" aria-label="quantity" pattern="[0-9]*">
                      <button type="button" class="ajaxcart__qty-adjust ajaxcart__qty--plus icon-fallback-text" data-id="{{id}}" data-line="{{line}}" data-qty="{{itemAdd}}">
                        <span class="icon icon-plus" aria-hidden="true"></span>
                        <span class="fallback-text">+</span>
                      </button>
                    </div>
                  </div>
                  <div class="grid__item display-table-cell one-half text-right">
                    {{{price}}}
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        {{/items}}

        
          <div>
            <label for="CartSpecialInstructions">Special instructions for seller</label>
            <textarea name="note" class="input-full" id="CartSpecialInstructions">{{ note }}</textarea>
          </div>
        
      </div>
      <div class="ajaxcart__footer">
        <div class="grid--full">
          <div class="grid__item two-thirds">
            <p>Subtotal</p>
          </div>
          <div class="grid__item one-third text-right">
            <p>{{{totalPrice}}}</p>
          </div>
        </div>
        <p class="text-center">Shipping &amp; taxes calculated at checkout</p>
        <button type="submit" class="btn--secondary btn--full cart__checkout" name="checkout">
          Check Out &rarr;
        </button>
        
        
      </div>
    </form>
  
  </script>
  <script id="AjaxQty" type="text/template">
  
    <div class="ajaxcart__qty">
      <button type="button" class="ajaxcart__qty-adjust ajaxcart__qty--minus icon-fallback-text" data-id="{{id}}" data-qty="{{itemMinus}}">
        <span class="icon icon-minus" aria-hidden="true"></span>
        <span class="fallback-text">&minus;</span>
      </button>
      <input type="text" class="ajaxcart__qty-num" value="{{itemQty}}" min="0" data-id="{{id}}" aria-label="quantity" pattern="[0-9]*">
      <button type="button" class="ajaxcart__qty-adjust ajaxcart__qty--plus icon-fallback-text" data-id="{{id}}" data-qty="{{itemAdd}}">
        <span class="icon icon-plus" aria-hidden="true"></span>
        <span class="fallback-text">+</span>
      </button>
    </div>
  
  </script>
  <script id="JsQty" type="text/template">
  
    <div class="js-qty">
      <button type="button" class="js-qty__adjust js-qty__adjust--minus icon-fallback-text" data-id="{{id}}" data-qty="{{itemMinus}}">
        <span class="icon icon-minus" aria-hidden="true"></span>
        <span class="fallback-text">&minus;</span>
      </button>
      <input type="text" class="js-qty__num" value="{{itemQty}}" min="1" data-id="{{id}}" aria-label="quantity" pattern="[0-9]*" name="{{inputName}}" id="{{inputId}}" data-link-to="{{dataLinkTo}}">
      <button type="button" class="js-qty__adjust js-qty__adjust--plus icon-fallback-text" data-id="{{id}}" data-qty="{{itemAdd}}">
        <span class="icon icon-plus" aria-hidden="true"></span>
        <span class="fallback-text">+</span>
      </button>
    </div>
  
  </script>


  





<!-- START - STEELHOUSE -->
<script type="text/javascript">

  var DEBUG = (window.location.href.indexOf('debug-absplits') > 0);

  var steelHouseTag = function(event,delay){

    var steelHouse = function(){
      "use strict";
      var e = null,
        b = "4.0.0",
        n = "30548",
        additional = "term=value",
        t, r, i;
      try {
        t = top.document.referer !== "" ? encodeURIComponent(top.document.referrer.substring(0, 2048)) : ""
      } catch (o) {
        t = document.referrer !== null ? document.referrer.toString().substring(0, 2048) : ""
      }
      try {
        r = window && window.top && document.location && window.top.location === document.location ? document.location : window && window.top && window.top.location && "" !== window.top.location ? window.top.location : document.location
      } catch (u) {
        r = document.location
      }
      try {
        i = parent.location.href !== "" ? encodeURIComponent(parent.location.href.toString().substring(0, 2048)) : ""
      } catch (a) {
        try {
          i = r !== null ? encodeURIComponent(r.toString().substring(0, 2048)) : ""
        } catch (f) {
          i = ""
        }
      }
      var l, c = document.createElement("script"),
        h = null,
        p = document.getElementsByTagName("script"),
        d = Number(p.length) - 1,
        v = document.getElementsByTagName("script")[d];
      if (typeof l === "undefined") {
        l = Math.floor(Math.random() * 1e17)
      }
      h = "dx.steelhousemedia.com/spx?" + "dxver=" + b + "&shaid=" + n + "&tdr=" + t + "&plh=" + i + "&cb=" + l + additional;
      c.type = "text/javascript";
      c.src = ("https:" === document.location.protocol ? "https://" : "http://") + h;
      v.parentNode.insertBefore(c, v);
    };

    if(event === 'now'){
      if(DEBUG) { console.log('steelHouseTag on Now'); }
      steelHouse();
    }

    if(event === 'load'){
      if(DEBUG) { console.log('steelHouseTag on Load'); }
      $(window).on('load',function(){
        setTimeout(function(){
          steelHouse();
        },delay);
      });
    }

    // The setting option "ready" is moot as long as Yotta is in place on
    // theme.liquid, as that delays all events until after on load.
    if(event === 'ready'){
      if(DEBUG) { console.log('steelHouseTag on Ready'); }
      $(function(){
        setTimeout(function(){
          steelHouse();
        },delay);
      });
    }

  };

  // steelHouseTag('now',0);

</script>
<!-- END - STEELHOUSE -->

<!-- START - CRITEO STOREFRONT TRACKING-->

    <script>

      var DEBUG = (window.location.href.indexOf('debug-absplits') > 0);

      var criteoTag = function(event,delay){

        var pushCriteo = function(pageEvent){
          var site_type = /Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Silk/.test(navigator.userAgent) ? "m" : /iPad/.test(navigator.userAgent) ? "t" : "d";
          window.criteo_q = window.criteo_q || [];
          var accountId = { event: "setAccount", account: 22197 };
          var setSiteType = { event: "setSiteType", type: site_type};
          window.criteo_q.push(
            accountId, setSiteType, pageEvent
          );
          if(DEBUG) { console.log('criteoTag | pushCriteo'); }
        };

        var templateEvent = function(){
          if(DEBUG) { console.log('criteoTag | templateEvent'); }};

        var criteoAjax = function(){
          $.ajax({
              url: "//static.criteo.net/js/ld/ld.js",
              dataType: "script",
              cache: true,
              success: function(){
                if(DEBUG) { console.log('criteoTag | Criteo ajax sucess'); }
              }
            })
            .done(function(){
              if(DEBUG) { console.log('criteoTag | Criteo ajax done'); }
              var pageEvent = templateEvent();
              pushCriteo(pageEvent);
          });
        }

        if(event === 'now'){
          criteoAjax();
        }

        if(event === 'load'){
          if(DEBUG) { console.log('criteoTag on Load'); }
          $(window).on('load',function(){
            setTimeout(function(){
              criteoAjax();
            },delay);
          });
        }

        // The setting option "ready" is moot as long as Yotta is in place on
        // theme.liquid, as that delays all events until after on load.
        if(event === 'ready'){
          if(DEBUG) { console.log('criteoTag on Ready'); }
          $(function(){
            setTimeout(function(){
              criteoAjax();
            },delay);
          });
        }

      };

      // criteoTag('load',1000);

    </script>
<!-- END CRITEO STOREFRONT TRACKING END -->

<!-- START A/B TAG SPLIT FUNCTIONS -->
  <script>

    randomBool = function(){
      if( window.crypto.getRandomValues ){
        var a = new Uint32Array(1);
        window.crypto.getRandomValues(a);
        return a[0] > 2147483647;
      }else{
        return Math.random() >= 0.5;
      }
    }

    testRandBool = function(){
      var trues = 0;
      var falses = 0;
      for (var i = 0; i < 100000; i++) {
        if (randomBool()) {
          trues++;
        }
        else {
          falses++;
        }
      }
      console.log ('randomBool | trues: ' + trues + ', falses: ' + falses);
    }

    randomAB = function(a,b){
      if( randomBool() ){
        return a;
      }else{
        return b;
      }
    }

    var DEBUG = (window.location.href.indexOf('debug-absplit') > 0);

    abSplitTags = function(tagNameA, tagNameB, cookieSettings){
      // Choose a random tag
      var tagName = randomAB(tagNameA, tagNameB);
      if(DEBUG) { console.log('abSplitTags | tagName: '+tagName); }

      // If there are no cookie settings, call the tag immediately
      if( !cookieSettings ){
        if(DEBUG) { console.log('abSplitTags | no cookie settings, calling '+tagName); }
        window[tagName]('now',0);
      }else{
        // If the tag is set in the cookie, use that
        if( Cookies.get(cookieSettings.name) ){
          tagName = Cookies.get(cookieSettings.name);
          if(DEBUG) { console.log('abSplitTags | is cookie, get tag: '+tagName); }
        }else{
          // If not, set the cookie with the bvalue of the random tag name
          Cookies.set(cookieSettings.name, tagName, cookieSettings.attr);
          if(DEBUG) { console.log('abSplitTags | no cookie, set with '+tagName); } 
          // Send the cookie event to GA for confirmation
          try{
            ga('send', {
              hitType: 'event',
              eventCategory: 'Cookie Criteo-SteelHouse',
              eventAction: 'Assigned Tag',
              eventLabel: tagName
            });
          }catch(e){
            if(DEBUG) { console.log('ga '+e); }
          }
        }
        // Call the tag
        if(DEBUG) { console.log('abSplitTags | calling '+tagName); }
        window[tagName]('now',0);
      }
    }

  </script>
<!-- END A/B TAG SPLIT FUNCTIONS --><script>
  // Remove the cookie used in the test
  Cookies.remove('_bl__retarget-tag');
  // Fire the Criteo tag
  criteoTag('now',0);
</script>




<!-- BEGIN: Google Customer Reviews (Replaces GTS) -->
<script src="https://apis.google.com/js/platform.js?onload=renderBadge" async defer></script>
<script>
//  window.renderBadge = function() {
//    var ratingBadgeContainer = document.createElement("div");
//    document.body.appendChild(ratingBadgeContainer);
//    window.gapi.load('ratingbadge', function() {
//      window.gapi.ratingbadge.render(ratingBadgeContainer, {
//        "merchant_id": 104824303,
//        "position": "BOTTOM_LEFT"
//      });
//    });
//  }
</script>
<!-- END: Google Customer Reviews -->


<!-- BEGIN: Klaviyo -->
  <script type="text/javascript">
    var _learnq = _learnq || [];

    _learnq.push(['account', 'k3Yt3w']);

    (function () {
    var b = document.createElement('script'); b.type = 'text/javascript'; b.async = true;
    b.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'a.klaviyo.com/media/js/analytics/analytics.js';
    var a = document.getElementsByTagName('script')[0]; a.parentNode.insertBefore(b, a);
    })();
  </script>
<!-- END: Klaviyo -->



<!-- START: Sidecar tracking -->
<script src="https://d3v27wwd40f0xu.cloudfront.net/js/tracking/sidecar_brooklinen.js" type="text/javascript" async></script>

<!-- END: Sidecar tracking -->

<!-- START: SkimTag -->
<script>
var skimTagEvent = window.skimTagEvent || {
    "event_type": "page_impression"
};
</script>
<script src="//assistjs.skimresources.com/js/skimtag.brooklinen.com.js" async></script>
<!-- END: SkimTag -->

<!-- START Outbrain -->
  <script data-obct type="text/javascript">
    /** DO NOT MODIFY THIS CODE**/
    !function(_window, _document) {
    var OB_ADV_ID='0010d81017ada849ee7b8f9ff6e2e3e33b';
    if (_window.obApi) { return; }
    var api = _window.obApi = function() {api.dispatch ? api.dispatch.apply(api, arguments) : api.queue.push(arguments);};api.version = '1.0';api.loaded = true;api.marketerId = OB_ADV_ID;api.queue = [];var tag = _document.createElement('script');tag.async = true;tag.src = '//amplify.outbrain.com/cp/obtp.js';tag.type = 'text/javascript';var script = _document.getElementsByTagName('script')[0];script.parentNode.insertBefore(tag, script);}(window, document);
    obApi('track', 'PAGE_VIEW');
  </script>
<!-- END Outbrain -->

<!-- START Amazon -->
  <!-- Use of this pixel is subject to the Amazon ad specs and policies at http://www.amazon.com/b/?&node=7253015011 --><script type='text/javascript'>var _pix = document.getElementById('_pix_id_a98a1f80-a4b0-536f-6061-48cf25dcde2d');if (!_pix) { var protocol = '//'; var a = Math.random() * 1000000000000000000; _pix = document.createElement('iframe'); _pix.style.display = 'none'; _pix.setAttribute('src', protocol + 's.amazon-adsystem.com/iu3?d=generic&ex-fargs=%3Fid%3Da98a1f80-a4b0-536f-6061-48cf25dcde2d%26type%3DUNKNOWN%26m%3D1&ex-fch=416613&ex-src=https://www.brooklinen.com/&ex-hargs=v%3D1.0%3Bc%3D2057896410001%3Bp%3DA98A1F80-A4B0-536F-6061-48CF25DCDE2D' + '&cb=' + a); _pix.setAttribute('id','_pix_id_a98a1f80-a4b0-536f-6061-48cf25dcde2d'); document.body.appendChild(_pix);}</script><noscript> <img height='1' width='1' border='0' alt='' src='https://s.amazon-adsystem.com/iui3?d=forester-did&ex-fargs=%3Fid%3Da98a1f80-a4b0-536f-6061-48cf25dcde2d%26type%3DUNKNOWN%26m%3D1&ex-fch=416613&ex-src=https://www.brooklinen.com/&ex-hargs=v%3D1.0%3Bc%3D2057896410001%3Bp%3DA98A1F80-A4B0-536F-6061-48CF25DCDE2D' /></noscript>
<!-- END Amazon -->

<!-- START Twitter universal website tag code -->
  <script>
    !function(e,t,n,s,u,a){e.twq||(s=e.twq=function(){s.exe?s.exe.apply(s,arguments):s.queue.push(arguments);
    },s.version='1.1',s.queue=[],u=t.createElement(n),u.async=!0,u.src='//static.ads-twitter.com/uwt.js',
    a=t.getElementsByTagName(n)[0],a.parentNode.insertBefore(u,a))}(window,document,'script');
    // Insert Twitter Pixel ID and Standard Event data below
    twq('init','nur6w');
    twq('track','PageView');
  </script>
<!-- END Twitter universal website tag code -->

<!-- START FuelX -->
  <script type="text/javascript">
  (function(e,t,u,n,f){
      "use strict";
      e.fx||(e.fuelxEQ=e.fuelxEQ?e.fuelxEQ:[],e.fuelx=function(){e.fuelxP&&e.fuelxP.fuelx?e.fuelxP.handleEvent(arguments):e.fuelxEQ.push(arguments)},
      f=e.document.createElement(t),f.async=!0,f.src=u,n=e.document.getElementsByTagName(t)[0],n.parentNode.insertBefore(f,n))
  })(window,"script","https://cdn.fuelx.com/js/tr.js?v1");
  </script>
  <script type="text/javascript">
      fuelx("init", "c2cfc5bf648fdec3ed1e607d1be10f2b", "YjVr2Qj9Kxir53FP%2B4y9iQ%3D%3D");
      fuelx("pageview");
  </script>
  <script>
    window.addEventListener("load", function(event) {
      setTimeout(function(){
        var fxImage = document.querySelector('[id^="fxp_"]');
        if(fxImage){
          fxImage.alt = "FuelX";  
        }
      },1000);
      setTimeout(function(){
        var fxImage = document.querySelector('[id^="fxp_"]');
        if(fxImage){
          fxImage.alt = "FuelX";  
        }
      },3000);
    });
  </script>
<!-- END FuelX -->


  <!-- /snippets/sale-modal.liquid -->








<div class="info-modal sale-modal">
  <div class="inner">
    <a href="#" class="close">&times;</a>
    <div class="grid--flex">
      <img class="sale-logo" src="//cdn.shopify.com/s/files/1/0951/7126/files/modal-sale--coins-illustration.png?v=5261086288556789109" alt="Illustration of a stack of coins" />
      <p class="module-title">We’re raising our prices soon.</p>
      <span class="caption"><p>Since our launch five years ago, prices of cotton and other key commodities have significantly increased. Paying our suppliers fairly and providing you with the best products on the market is paramount to us—to that end, prices of some of our Classic and Luxe sheets will rise up to 15% starting March 26th, 2019.</p></span>
    </div>
  </div>
</div>

<script>
  jQuery(function($){    
    $('body').on('click','a[href="#trigger-sale-modal"]', function(e){
      e.preventDefault();
      // Show the modal
      $('.sale-modal').addClass('active');
      // Lock the background to prevent scrolling only below desktop breakpoint
      if( $(window).width() < 768 ){
        $('html').addClass('lock-scroll');
      }
    });
    $('.sale-modal').on('click',function(e){
      e.preventDefault();
      // Close the modal
      $('.sale-modal').removeClass('active');
      // Remove scroll lock
      $('html').removeClass('lock-scroll');
    });
    
  });
</script>


  <!-- snippets/flickity-ios-bug.liquid -->
<script>
  // Flickity iOS 13 touchstart bug
  // via https://gist.github.com/bakura10/b0647ef412eb7757fa6f0d2c74c1f145
  (function() {
    let dragThreshold = 4,
        touchingCarousel = false,
        touchStartCoords;

    document.body.addEventListener('touchstart', function(e) {
      if (e.target.closest('.flickity-slider')) {
        touchingCarousel = true;
      } else {
        touchingCarousel = false;
        return;
      }

      touchStartCoords = {
        x: e.touches[0].pageX,
        y: e.touches[0].pageY
      }
    });

    document.body.addEventListener('touchmove', function(e) {
      if (!(touchingCarousel && e.cancelable)) {
        return;
      }

      let moveVector = {
        x: e.touches[0].pageX - touchStartCoords.x,
        y: e.touches[0].pageY - touchStartCoords.y
      };

      if (Math.abs(moveVector.x) > dragThreshold)
        e.preventDefault()

    }, {passive: false});

  })();
</script>


  <!-- DY Dependent JS -->
<style>
  .nano-fallback {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
  }
  .nano-fallback span {
    flex: 1 0 auto;
    color: #fff;
    text-align: center;
    font-family: 'BrandonTextWeb-Bold';
    font-size: 16px;
  }
</style>
<script>

  var nanoFallback = function(){
    var nanoHeightMobile = 64;
    var nanoHeightDesktop = 64;
    var nanoBackground = '#283455';

    if( nanoHeightMobile && nanoHeightDesktop && nanoBackground ){
      var css = '#PageContainer, #NavDrawer, .site-header { margin-top: '+nanoHeightMobile+'px !important; }' +
                '.top-nav-sub-nav { top: '+nanoHeightMobile+'px !important; }' +
                '.nano-bg { height: '+nanoHeightMobile+'px !important; background: '+ nanoBackground +'}' +
                '@media screen and (min-width: 769px) { #PageContainer, #NavDrawer, .site-header { margin-top: '+nanoHeightDesktop+'px !important; } }' +
                '@media screen and (min-width: 769px) { .top-nav-sub-nav { top: '+nanoHeightDesktop+'px !important; } }' +
                '@media screen and (min-width: 769px) { .nano-bg { height: '+nanoHeightDesktop+'px !important;  } }';

      var head = document.head;
      var style = document.createElement('style');

      style.type = 'text/css';
      if (style.styleSheet){
        style.styleSheet.cssText = css;
      } else {
        style.appendChild(document.createTextNode(css));
      }
      head.appendChild(style);
      $('.nano-bg').html('<div class="nano-fallback"><span></span></div>');
    }
  };

  /**
   * Injects the JSON-LD structured data for the Google Shopping feed.
   * This needs to be called after DY loads to apply any site wide discounts
   * to the price
   */
  var setStructuredData = function(){

    // If there is no selected variant, use the selected or first variant of the product
    if(!Brooklinen.product.selectedVariant){
      Brooklinen.product.selectedVariant = null;
    }

    // Get the site wide discount value set BY the DY nano or default to 0
    // Calculate the discount multiplier, defaulting to 1 if SWD is 0
    var siteWideDiscount = parseInt($('body').attr('data-swd-amount')) || 0;
    var siteWideDiscountDecimal = (100 - siteWideDiscount)/100;

    // Initialize the script element to inject
    var el = document.createElement('script');
    el.id = 'productData';
    el.type = 'application/ld+json';

    // Set the url for the variant
    var variantUrl = Brooklinen.shop.secure_url +
                     '/products/' + Brooklinen.product.org.handle +
                     '?variant=' + Brooklinen.product.selectedVariant.id;

    // Calculate the reduced price, in dollars. If SWD is 0, the multiplier is 1
    var variantPrice = parseFloat((Brooklinen.product.selectedVariant.price *
                                  siteWideDiscountDecimal) / 100).toFixed(2);

    // Products with out variants don't have variant images
    var variantImage = (Brooklinen.product.selectedVariant.featured_image) ?
                        Brooklinen.product.selectedVariant.featured_image.src :
                        Brooklinen.product.org.images[0];

    // Assign the primary feed data
    var productData = {
      "@context": "https://schema.org/",
      "@type": "Product",
      "name": Brooklinen.product.org.title,
      "description": Brooklinen.product.org.metafields.description_tag,
      "brand" : Brooklinen.product.org.vendor,
      "sku" : Brooklinen.product.selectedVariant.sku,
      "image" : variantImage,
      "offers": {
        "@type": "Offer",
        "url": variantUrl,
        "priceCurrency": Brooklinen.shop.currency,
        "availability": "https://schema.org/InStock",
        "price": variantPrice,
      }
    };

    // Add the review data if present
    if( Brooklinen.product.org.metafields.yotpo.reviews_count > 0 ){
      productData.aggregateRating = {
        "@type": "AggregateRating",
        "ratingValue": Brooklinen.product.org.metafields.yotpo.reviews_average,
        "reviewCount": Brooklinen.product.org.metafields.yotpo.reviews_count,
      }
    }

    // Set the script contents and inject
    el.text = JSON.stringify(productData);
    if( !document.getElementById("productData") ){
      document.querySelector('head').appendChild(el);
    }

    // Show the prices on single component PDPs
    $('.product-price').removeClass('invisible');

    // console.log('setStructuredData Done');
  };

  // Run if feed collection liquid flag is true
  var feedCollection = false;
  if( feedCollection ){
    if(typeof Brooklinen.product === 'object'){
      setStructuredData();
    }
  }

  // Check for the DY nano, which contains a copy of the Brooklinen.discounts
  // object and render the receipt when it appears.
  var frequency = 100;
  var limit = parseInt('7000');
  var stop = limit/frequency;
  var count = 0;
  var startTime = Date.now();

  var checkDYNanoExists = setInterval(function() {
    if ($('#nanoBarDynamicYield').length) {
      console.log('checkDYNanoExists: Done');
      if(typeof Brooklinen.renderCart === 'function'){
        Brooklinen.renderCart();
      }
      if(typeof Brooklinen.product === 'object'){
        setStructuredData();
      }
      clearInterval(checkDYNanoExists);
    }else{
      
      // Increment count
      count = count + frequency;
      if( count > limit ){
        console.log('checkDYNanoExists: Quit');
        if(typeof Brooklinen.renderCart === 'function'){
          Brooklinen.renderCart();
        }
        nanoFallback();
        if(typeof Brooklinen.product === 'object'){
          setStructuredData();
        }
        clearInterval(checkDYNanoExists);
      }
    }
  }, frequency);

</script>


  <!-- snippets/brooklinen-testing-polyfills.liquid -->
<script>

  var testingPolyfills = function() {

    console.log('Run testingPolyfills');

    // Update urls from main to testing
    function replaceUrl(elem, attr) {
      var elems = document.getElementsByTagName(elem);
      for (var i = 0; i < elems.length; i++)
        elems[i][attr] = elems[i][attr].replace('www.brooklinen', 'brooklinen-testing.myshopify');
    }

    (function() {
      replaceUrl('a', 'href');
      replaceUrl('img', 'src');
    })();

    // Update asset paths from main to testing
    var replaceAssetPath = function(item) {
        var regex = /1\/0334\/5081\/9715/gi;
        var orgSrc = item.src;
        if(orgSrc){
            var newSrc = orgSrc.replace(regex,'1/0951/7126');
            item.src = newSrc;
        }
        var orgStyle = item.style.cssText;
        if(orgStyle){
            var newStyle = orgStyle.replace(regex,'1/0951/7126');
            item.style.cssText = newStyle;
        }
    }

    var images = document.querySelectorAll('img');
    images.forEach(function(image){
      if(image.naturalWidth < 1){
        replaceAssetPath(image);
      }
    });

    var labels = document.querySelectorAll('label');
    labels.forEach(function(label){
      replaceAssetPath(label);
    });

    var modDivs = document.querySelectorAll('div.module div');
    modDivs.forEach(function(div){
      replaceAssetPath(div);
    });

    // Trigger resize for matchHeight etc.
    window.dispatchEvent(new Event('resize'));

  }; // testingPolyfills

  // DISABLED IN LIVE THEME!
  /***
   *** window.addEventListener('load', (event) => {
   ***   // testingPolyfills();
   *** });

   *** document.addEventListener('DOMContentLoaded', (event) => {
   ***   // testingPolyfills();
   *** });
  */

</script>


  <!-- START Emarsys -->
<script type="text/javascript">

  

  

  

  var emarsysCartItems = [];

  


  // Push events on all non-checkout pages, or if checkout, not the thank you page
  if( !(Shopify.Checkout) || (Shopify.Checkout && Shopify.Checkout.page !== 'thank_you')){
    ScarabQueue.push(['cart', emarsysCartItems]);
    ScarabQueue.push(['go']);
  }
</script>
<!-- END Emarsys -->


  

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jsSHA/2.3.1/sha.js" async></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.countdown/2.2.0/jquery.countdown.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.13/moment-timezone-with-data-2012-2022.min.js" defer></script>

  

</body>

</html>
